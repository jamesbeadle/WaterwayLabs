var g=Object.defineProperty;var w=(e,t,r)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var i=(e,t,r)=>w(e,typeof t!="symbol"?t+"":t,r);import{w as C}from"./CtELikU3.js";import{a as A}from"./DM56RBs9.js";import{A as p,a as n}from"./CdI6uKr4.js";import{i as h}from"./Gz_18jNH.js";var l={BACKEND_CANISTER_ID:"rbqtt-7yaaa-aaaal-qcndq-cai"};class s{constructor(){i(this,"actor");this.actor=p.createActor(h,l.BACKEND_CANISTER_ID)}async getProjects(){const t=await this.actor.getProjects({});if(console.log(t),n(t))throw new Error("Failed to fetch projects");return t.ok}async getProjectCanisters(t){const r=await this.actor.getProjectCanisters(t);if(console.log(r),n(r))throw new Error("Failed to fetch project canisters");return r.ok}async getCanisterInfo(t){const r=await this.actor.getCanisterInfo(t);if(console.log(r),n(r))throw new Error("Failed to fetch project canister info");return r.ok}async getApplicationLogs(t){const r=await this.actor.getApplicationLogs(t);if(console.log(r),n(r))throw new Error("Failed to fetch application logs");return r.ok}async topupCanister(t,r){const a=await(await p.createIdentityActor(A,l.BACKEND_CANISTER_ID)).topupCanister(t,r);if(n(a))throw new Error("Failed to topup canister");return a.ok}}function y(){const{subscribe:e,set:t}=C([]);async function r(o){return new s().getProjectCanisters(o)}async function c(o){return new s().getCanisterInfo(o)}async function a(o){return new s().getApplicationLogs(o)}async function u(o,f){return new s().topupCanister(o,f)}return{subscribe:e,setProjects:o=>t(o),getProjectCanisters:r,getCanisterInfo:c,topupCanister:u,getApplicationLogs:a}}const _=y();export{s as P,_ as p};
