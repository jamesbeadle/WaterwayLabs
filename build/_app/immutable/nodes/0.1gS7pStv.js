import{t as S,a as y,c as pt}from"../chunks/DKwmAWm-.js";import{aC as Ct,A as vt,B as L,C as Mt,aF as tt,D as Nt,F as Ot,G as Bt,I as et,U as at,ak as W,am as rt,y as G,K as O,q as mt,N as ht,a8 as B,a7 as R,aG as st,Z as Rt,J as ot,M as j,aD as Ft,E as gt,R as E,ar as Pt,aa as nt,aH as Dt,aI as Ht,e as Wt,u as jt,aJ as Ut,aK as zt,a9 as Gt,p as P,c as w,b as _,s as x,t as q,a as D,f as V,j as A,m as K,aL as qt,a4 as it,aM as Vt}from"../chunks/BS6Mr32s.js";import{a as Kt,d as Y,s as _t,e as $t}from"../chunks/Dg9wxeRC.js";import{i as F}from"../chunks/Cleh1DLi.js";import{w as Yt}from"../chunks/Cf-BfbNu.js";import{o as J}from"../chunks/PuZT4g-u.js";import{p as lt}from"../chunks/Pr45LArM.js";import{_ as Jt}from"../chunks/CmsKOCeN.js";import{s as Zt,a as I,f as Qt,g as Xt}from"../chunks/B1E67QIh.js";import{d as te,w as bt}from"../chunks/BCWoSAAz.js";import{t as C}from"../chunks/D-XvfdMb.js";import{L as ee}from"../chunks/L2nMlp6H.js";import"../chunks/CSM_nU82.js";import{A as ae,a as $,e as wt,i as re}from"../chunks/DK3aQQxD.js";import{s as se,a as oe}from"../chunks/D4SGgjMX.js";import{s as yt}from"../chunks/C480-Oaa.js";import{i as ne}from"../chunks/DFv8ngim.js";import{A as ie}from"../chunks/B6F3qmxC.js";import{s as le}from"../chunks/4hk1b4to.js";import{b as ce}from"../chunks/DB1vOAPe.js";import{g as xt}from"../chunks/D-P6p6x8.js";import{H as ue}from"../chunks/CFdkY7d7.js";import{i as fe}from"../chunks/CmDEU5ZJ.js";const U=0,N=1,z=2;function de(e,t,a,r,i){L&&Mt();var s=e,c=Ct(),v=Rt,l=at,o,n,u,p=(c?rt:G)(void 0),h=(c?rt:G)(void 0),d=!1;function f(m,g){d=!0,g&&(B(b),R(b),st(v));try{m===U&&a&&(o?ot(o):o=O(()=>a(s))),m===N&&r&&(n?ot(n):n=O(()=>r(s,p))),m!==U&&o&&j(o,()=>o=null),m!==N&&n&&j(n,()=>n=null),m!==z&&u&&j(u,()=>u=null)}finally{g&&(st(null),R(null),B(null),Ft())}}var b=vt(()=>{if(l===(l=t()))return;let m=L&&tt(l)===(s.data===Nt);if(m&&(s=Ot(),Bt(s),et(!1),m=!0),tt(l)){var g=l;d=!1,g.then(T=>{g===l&&(W(p,T),f(N,!0))},T=>{if(g===l)throw W(h,T),f(z,!0),h.v}),L?a&&(o=O(()=>a(s))):mt(()=>{d||f(U,!0)})}else W(p,l),f(N,!1);return m&&et(!0),()=>l=at});L&&(s=ht)}function pe(e,t,...a){var r=e,i=E,s;vt(()=>{i!==(i=t())&&(s&&(Pt(s),s=null),s=O(()=>i(r,...a)))},gt),L&&(r=ht)}const ve=()=>performance.now(),k={tick:e=>requestAnimationFrame(e),now:()=>ve(),tasks:new Set};function St(){const e=k.now();k.tasks.forEach(t=>{t.c(e)||(k.tasks.delete(t),t.f())}),k.tasks.size!==0&&k.tick(St)}function me(e){let t;return k.tasks.size===0&&k.tick(St),{promise:new Promise(a=>{k.tasks.add(t={c:e,f:a})}),abort(){k.tasks.delete(t)}}}function ct(e,t){Yt(()=>{e.dispatchEvent(new CustomEvent(t))})}function he(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function ut(e){const t={},a=e.split(";");for(const r of a){const[i,s]=r.split(":");if(!i||s===void 0)break;const c=he(i.trim());t[c]=s.trim()}return t}const ge=e=>e;function kt(e,t,a,r){var i=(e&Ut)!==0,s="in",c,v=t.inert,l=t.style.overflow,o,n;function u(){var b=Gt,m=nt;R(null),B(null);try{return c??(c=a()(t,r?.()??{},{direction:s}))}finally{R(b),B(m)}}var p={is_global:i,in(){t.inert=v,o?.abort(),ct(t,"introstart"),o=At(t,u(),n,1,()=>{ct(t,"introend"),o?.abort(),o=c=void 0,t.style.overflow=l})},out(b){{b?.(),c=void 0;return}},stop:()=>{o?.abort()}},h=nt;if((h.transitions??(h.transitions=[])).push(p),Kt){var d=i;if(!d){for(var f=h.parent;f&&f.f&gt;)for(;(f=f.parent)&&!(f.f&Dt););d=!f||(f.f&Ht)!==0}d&&Wt(()=>{jt(()=>p.in())})}}function At(e,t,a,r,i){if(zt(t)){var s,c=!1;return mt(()=>{if(!c){var f=t({direction:"in"});s=At(e,f,a,r,i)}}),{abort:()=>{c=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(!t?.duration)return i(),{abort:E,deactivate:E,reset:E,t:()=>r};const{delay:v=0,css:l,tick:o,easing:n=ge}=t;var u=[];if(o&&o(0,1),l){var p=ut(l(0,1));u.push(p,p)}var h=()=>1-r,d=e.animate(u,{duration:v});return d.onfinish=()=>{var f=1-r,b=r-f,m=t.duration*Math.abs(b),g=[];if(m>0){var T=!1;if(l)for(var Z=Math.ceil(m/16.666666666666668),H=0;H<=Z;H+=1){var Q=f+b*n(H/Z),X=ut(l(Q,1-Q));g.push(X),T||(T=X.overflow==="hidden")}T&&(e.style.overflow="hidden"),h=()=>{var M=d.currentTime;return f+b*n(M/m)},o&&me(()=>{if(d.playState!=="running")return!1;var M=h();return o(M,1-M),!0})}d=e.animate(g,{duration:m,fill:"forwards"}),d.onfinish=()=>{h=()=>r,o?.(r,1-r),i()}},{abort:()=>{d&&(d.cancel(),d.effect=null,d.onfinish=E)},deactivate:()=>{i=E},reset:()=>{},t:()=>h()}}const _e=!1,Sa=Object.freeze(Object.defineProperty({__proto__:null,ssr:_e},Symbol.toStringTag,{value:"Module"})),be=e=>e;function we(e){const t=e-1;return t*t*t+1}function ft(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function ye(e,{delay:t=0,duration:a=400,easing:r=be}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:a,easing:r,css:s=>`opacity: ${s*i}`}}function xe(e,{delay:t=0,duration:a=400,easing:r=we,x:i=0,y:s=0,opacity:c=0}={}){const v=getComputedStyle(e),l=+v.opacity,o=v.transform==="none"?"":v.transform,n=l*(1-c),[u,p]=ft(i),[h,d]=ft(s);return{delay:t,duration:a,easing:r,css:(f,b)=>`
			transform: ${o} translate(${(1-f)*u}${p}, ${(1-f)*h}${d});
			opacity: ${l-n*b}`}}const Se=e=>{if(!ke()){window.location.replace(e);return}history.replaceState({},"",e)},ke=()=>window.history!==void 0&&"pushState"in window.history&&typeof window.history.pushState<"u",Ae=()=>{const{subscribe:e,set:t}=bt(void 0);return{subscribe:e,start(){t({spinner:!0,close:!1})},show(){t({spinner:!0,close:!0})},stop(){t(void 0)}}},Tt=Ae(),Te=()=>{const{subscribe:e,set:t}=bt(!1);return{subscribe:e,start(){t(!0)},stop(){t(!1)}}},Ee=Te();te([Tt,Ee],([e,t])=>Zt(e)||t);const Ie=()=>Et({}),Le=async()=>await Et({msg:{message:"You have been logged out because your session has expired.",type:"info"},clearStorages:!1}),Et=async({msg:e=void 0,clearStorages:t=!0})=>{Tt.start(),t&&await Promise.all([console.error("Store clear not implemented")]),await I.signOut(),e&&C.addToast(e),window.location.reload()},It="msg",Lt="level",Ce=()=>{const e=new URLSearchParams(window.location.search),t=e.get(It);if(Qt(t))return;const a=e.get(Lt)??"info";C.addToast({message:t,type:a}),Me()},Me=()=>{const e=new URL(window.location.href);e.searchParams.delete(It),e.searchParams.delete(Lt),Se(e)},Ne=async()=>{const e=await Jt(()=>import("../chunks/iBk8YylV.js"),[],import.meta.url),t=new e.default;return t.onmessage=async({data:a})=>{const{msg:r,data:i}=a;switch(r){case"signOutIdleTimer":await Le();return;case"delegationRemainingTime":Xt.set(i?.authRemainingTime);return}},{syncAuthIdle:a=>{if(!a.identity){t.postMessage({msg:"stopIdleTimer"});return}t.postMessage({msg:"startIdleTimer"})}}};var Oe={BACKEND_CANISTER_ID:"rbqtt-7yaaa-aaaal-qcndq-cai"};class dt{constructor(){}async getAppStatus(){const a=await(await ae.createActor(ne,Oe.BACKEND_CANISTER_ID)).getAppStatus();if($(a))throw new Error("Failed to get app status");return a.ok}}function Be(){async function e(){const a=await new dt().getAppStatus();if($(a))throw new Error("Error fetching app status");let r=a;if(!localStorage.getItem("version")){localStorage.setItem("version",r.version);return}r.version!==localStorage.getItem("version")&&C.addToast({message:`Waterway Labs V${r.version} is now available. Click here to reload:`,type:"frontend-update"})}async function t(){const a=await new dt().getAppStatus();if($(a))throw new Error("Error fetching app status");let r=a;localStorage.setItem("version",r.version),window.location.replace(`${window.location.pathname}?v=${r.version}`)}return{checkServerVersion:e,updateFrontend:t}}const Re=Be();function Fe(){Re.updateFrontend()}var Pe=S('<button class="p-1 transition-colors border border-white rounded-full group hover:bg-white hover:text-black flex flex-row items-center"><span class="flex-1 text-xs semi-bold tracking-wide text-center lg:px-4">UPDATE SITE</span> <span class="w-8 h-8 flex items-center justify-center"><!></span></button>'),De=S('<div><span> </span> <!> <button class="font-bold ml-4">&times;</button></div>');function He(e,t){P(t,!0),J(()=>{t.toast.duration&&t.toast.duration>0&&setTimeout(a,t.toast.duration)});function a(){C.removeToast(t.toast.id)}var r=De(),i=w(r),s=w(i,!0);_(i);var c=x(i,2);{var v=o=>{var n=Pe();n.__click=[Fe];var u=x(w(n),2),p=w(u);ie(p,{className:"w-8 h-8"}),_(u),_(n),y(o,n)};F(c,o=>{t.toast.type=="frontend-update"&&o(v)})}var l=x(c,2);l.__click=a,_(r),q(()=>{yt(r,1,`fixed top-0 left-0 right-0 z-[9999] p-4 text-black shadow-md flex justify-between items-center bg-${t.toast.type}`),_t(s,t.toast.message)}),y(e,r),D()}Y(["click"]);var We=S("<div><!></div>");function je(e){const[t,a]=oe(),r=()=>se(C,"$toasts",t);var i=pt(),s=V(i);wt(s,1,r,c=>c.id,(c,v)=>{var l=We(),o=w(l);He(o,{get toast(){return A(v)}}),_(l),kt(1,l,()=>xe,()=>({y:20,duration:200})),y(c,l)}),y(e,i),a()}var Ue=(e,t,a,r)=>{e.preventDefault(),t.toggleMenu(),A(a).label==="Sign Out"?r():xt(A(a).path)},ze=S('<li><a class="hover:text-BrandBlue"> </a></li>'),Ge=S('<div><button class="absolute p-2 transition-all duration-200 text-BrandGrayShade4 top-4 right-4 hover:text-BrandBlue hover:scale-110" aria-label="Close sidebar"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button> <nav class="h-full px-6 pt-16 text-lg text-white bg-BrandBlueComp cta-text"><ul class="space-y-4"></ul></nav></div>');function qe(e,t){P(t,!0);let a;async function r(){await Ie(),xt("/",{replaceState:!0})}const i=[{path:"/",label:"Home"},{path:"/apps",label:"Apps"},{path:"/sale",label:"Membership Sale"},{path:"/profile",label:"Profile"},{path:"/channels",label:"Channels"},{path:"/shop",label:"Shop"},{path:"/whitepaper",label:"Whitepaper"},{path:"/tokens",label:"Token Balances"},{path:"/",label:"Sign Out"}];var s=Ge(),c=w(s);c.__click=function(...o){t.toggleMenu?.apply(this,o)};var v=x(c,2),l=w(v);wt(l,21,()=>i,re,(o,n)=>{var u=ze(),p=w(u);p.__click=[Ue,t,n,r];var h=w(p,!0);_(p),_(u),q(()=>{le(p,"href",A(n).path),_t(h,A(n).label)}),y(o,u)}),_(l),_(v),_(s),ce(s,o=>a=o,()=>a),q(()=>yt(s,1,`${t.isMenuOpen?"translate-x-0":"translate-x-full"} fixed inset-y-0 right-0 z-40 w-full sm:w-80 bg-white shadow-xl transform transition-transform duration-300 ease-in-out`)),y(e,s),D()}Y(["click"]);function Ve(){let e={domain:"https://identity.ic0.app"};I.signIn(e)}function Ke(){I.signOut()}var $e=S("<button>LET'S CONNECT</button>"),Ye=S("<button>LET'S CONNECT</button>"),Je=S('<footer class="relative py-8 overflow-hidden bg-BrandGray"><div class="absolute ellipse-1"></div> <div class="absolute ellipse-2"></div> <div class="relative z-10"><div class="flex flex-col px-6 lg:px-12 lg:flex-row lg:items-center lg:justify-between"><div class="flex items-center mb-6 lg:mb-0"><a href="/" class="flex items-center"><img src="logo.png" class="h-5 lg:h-4" alt="Waterway Labs Logo"> <span class="ml-2 tracking-wide"><span class="text-white">WATERWAY</span> <span class="text-white exLight">LABS</span></span></a></div> <div class="flex flex-col text-sm uppercase exLight lg:mb-0 lg:flex-row"><a href="/" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">Products</a> <a href="/about" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">About Us</a> <a href="/team" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">The Team</a></div></div> <hr class="my-6 border-t-2 border-[#4E4E4E] mx-6 lg:mx-auto lg:w-[1450px]"> <div class="flex flex-col px-6 lg:px-12 lg:flex-row lg:items-center lg:justify-between"><div class="mb-4 lg:mb-0"><!></div> <div class="flex flex-col text-sm uppercase exLight lg:flex-row "><a href="https://github.com" target="_blank" class="mb-4 lg:mb-0 lg:mx-2 hover:text-blue-400">GitHub</a> <a href="https://twitter.com" target="_blank" class="mb-4 lg:mb-0 lg:mx-2 hover:text-blue-400">Twitter</a></div></div></div></footer>');function Ze(e,t){P(t,!1);let a=G(!1);J(async()=>{try{I.subscribe(n=>{K(a,n.identity!==null&&n.identity!==void 0)})}catch(n){console.error("Error fetching homepage data:",n)}finally{}}),fe();var r=Je(),i=x(w(r),4),s=x(w(i),4),c=w(s),v=w(c);{var l=n=>{var u=$e();u.__click=[Ke],y(n,u)},o=n=>{var u=Ye();u.__click=[Ve],y(n,u)};F(v,n=>{A(a)?n(l):n(o,!1)})}_(c),qt(2),_(s),_(i),_(r),y(e,r),D()}Y(["click"]);var Qe=S("<!> <!> <!> <!> <!>",1),Xe=S("<div><!></div>");function ka(e,t){P(t,!0);let a=it(!0),r=it(!1);function i(){K(r,!A(r))}J(async()=>{document.querySelector("#app-spinner")?.remove(),await Ne(),K(a,!1)});const s=async()=>{await I.sync(),Ce()};var c=pt();$t("storage",Vt,function(...l){I.sync?.apply(this,l)});var v=V(c);de(v,s,l=>{var o=Xe(),n=w(o);ee(n),_(o),kt(1,o,()=>ye),y(l,o)},(l,o)=>{var n=Qe(),u=V(n);je(u);var p=x(u,2);{var h=g=>{ue(g,{})};F(p,g=>{lt.url.pathname!="/"&&g(h)})}var d=x(p,2);pe(d,()=>t.children);var f=x(d,2);{var b=g=>{Ze(g,{})};F(f,g=>{lt.url.pathname!="/"&&g(b)})}var m=x(f,2);qe(m,{get isMenuOpen(){return A(r)},toggleMenu:i}),y(l,n)}),y(e,c),D()}export{ka as component,Sa as universal};
