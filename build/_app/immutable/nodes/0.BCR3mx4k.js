import{t as x,a as w,c as pt}from"../chunks/BzkU4u7S.js";import{aC as Ct,A as vt,B as I,C as Mt,aF as et,D as Bt,F as Nt,G as Ot,I as at,U as rt,ak as q,am as st,y as $,K as F,q as mt,N as ht,a8 as D,a7 as W,aG as ot,Z as Rt,J as nt,M as V,aD as Ft,E as gt,R as L,ar as Pt,aa as it,aH as Dt,aI as Wt,e as jt,u as zt,aJ as Gt,aK as Ht,a9 as Ut,p as C,c as _,b as g,s as S,t as J,a as M,f as P,j as T,m as j,a4 as Z,aL as qt,aM as Vt}from"../chunks/BaXbDryg.js";import{a as Kt,d as G,s as _t,e as Yt}from"../chunks/B0P5qzJu.js";import{i as z}from"../chunks/D2wzK7NB.js";import{w as $t}from"../chunks/DLSr_JxL.js";import{o as H}from"../chunks/C0ZN6LWz.js";import{p as lt}from"../chunks/CReKukcg.js";import{_ as Jt}from"../chunks/CmsKOCeN.js";import{s as Zt,a as E,f as Qt,g as Xt}from"../chunks/CeQShbIZ.js";import{d as te,w as bt}from"../chunks/n_ym-twi.js";import{t as B}from"../chunks/D8e3hFfW.js";import{L as ee}from"../chunks/4SrJcopP.js";import"../chunks/D50GYYUr.js";import{A as ae,a as Q,e as wt,i as re}from"../chunks/BnLb_NBT.js";import{s as se,a as oe}from"../chunks/oJqjxrs_.js";import{s as yt}from"../chunks/D6NyieC3.js";import{i as ne}from"../chunks/BjfHbH4H.js";import{A as ie}from"../chunks/BRKrbMJw.js";import{s as le}from"../chunks/DOVtIxUE.js";import{b as ce}from"../chunks/Bh7nRDHl.js";import{g as xt}from"../chunks/DNXNLmq0.js";import{M as ue}from"../chunks/OPvXSz7h.js";import{i as fe}from"../chunks/D2JLArDT.js";const K=0,R=1,Y=2;function de(e,t,a,r,o){I&&Mt();var s=e,c=Ct(),f=Rt,l=rt,n,i,u,m=(c?st:$)(void 0),h=(c?st:$)(void 0),v=!1;function p(d,y){v=!0,y&&(D(b),W(b),ot(f));try{d===K&&a&&(n?nt(n):n=F(()=>a(s))),d===R&&r&&(i?nt(i):i=F(()=>r(s,m))),d!==K&&n&&V(n,()=>n=null),d!==R&&i&&V(i,()=>i=null),d!==Y&&u&&V(u,()=>u=null)}finally{y&&(ot(null),W(null),D(null),Ft())}}var b=vt(()=>{if(l===(l=t()))return;let d=I&&et(l)===(s.data===Bt);if(d&&(s=Nt(),Ot(s),at(!1),d=!0),et(l)){var y=l;v=!1,y.then(k=>{y===l&&(q(m,k),p(R,!0))},k=>{if(y===l)throw q(h,k),p(Y,!0),h.v}),I?a&&(n=F(()=>a(s))):mt(()=>{v||p(K,!0)})}else q(m,l),p(R,!1);return d&&at(!0),()=>l=rt});I&&(s=ht)}function pe(e,t,...a){var r=e,o=L,s;vt(()=>{o!==(o=t())&&(s&&(Pt(s),s=null),s=F(()=>o(r,...a)))},gt),I&&(r=ht)}const ve=()=>performance.now(),A={tick:e=>requestAnimationFrame(e),now:()=>ve(),tasks:new Set};function St(){const e=A.now();A.tasks.forEach(t=>{t.c(e)||(A.tasks.delete(t),t.f())}),A.tasks.size!==0&&A.tick(St)}function me(e){let t;return A.tasks.size===0&&A.tick(St),{promise:new Promise(a=>{A.tasks.add(t={c:e,f:a})}),abort(){A.tasks.delete(t)}}}function ct(e,t){$t(()=>{e.dispatchEvent(new CustomEvent(t))})}function he(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function ut(e){const t={},a=e.split(";");for(const r of a){const[o,s]=r.split(":");if(!o||s===void 0)break;const c=he(o.trim());t[c]=s.trim()}return t}const ge=e=>e;function kt(e,t,a,r){var o=(e&Gt)!==0,s="in",c,f=t.inert,l=t.style.overflow,n,i;function u(){var b=Ut,d=it;W(null),D(null);try{return c??(c=a()(t,r?.()??{},{direction:s}))}finally{W(b),D(d)}}var m={is_global:o,in(){t.inert=f,n?.abort(),ct(t,"introstart"),n=At(t,u(),i,1,()=>{ct(t,"introend"),n?.abort(),n=c=void 0,t.style.overflow=l})},out(b){{b?.(),c=void 0;return}},stop:()=>{n?.abort()}},h=it;if((h.transitions??(h.transitions=[])).push(m),Kt){var v=o;if(!v){for(var p=h.parent;p&&p.f&gt;)for(;(p=p.parent)&&!(p.f&Dt););v=!p||(p.f&Wt)!==0}v&&jt(()=>{zt(()=>m.in())})}}function At(e,t,a,r,o){if(Ht(t)){var s,c=!1;return mt(()=>{if(!c){var p=t({direction:"in"});s=At(e,p,a,r,o)}}),{abort:()=>{c=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(!t?.duration)return o(),{abort:L,deactivate:L,reset:L,t:()=>r};const{delay:f=0,css:l,tick:n,easing:i=ge}=t;var u=[];if(n&&n(0,1),l){var m=ut(l(0,1));u.push(m,m)}var h=()=>1-r,v=e.animate(u,{duration:f});return v.onfinish=()=>{var p=1-r,b=r-p,d=t.duration*Math.abs(b),y=[];if(d>0){var k=!1;if(l)for(var N=Math.ceil(d/16.666666666666668),U=0;U<=N;U+=1){var X=p+b*i(U/N),tt=ut(l(X,1-X));y.push(tt),k||(k=tt.overflow==="hidden")}k&&(e.style.overflow="hidden"),h=()=>{var O=v.currentTime;return p+b*i(O/d)},n&&me(()=>{if(v.playState!=="running")return!1;var O=h();return n(O,1-O),!0})}v=e.animate(y,{duration:d,fill:"forwards"}),v.onfinish=()=>{h=()=>r,n?.(r,1-r),o()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=L)},deactivate:()=>{o=L},reset:()=>{},t:()=>h()}}const _e=!1,Ea=Object.freeze(Object.defineProperty({__proto__:null,ssr:_e},Symbol.toStringTag,{value:"Module"})),be=e=>e;function we(e){const t=e-1;return t*t*t+1}function ft(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function ye(e,{delay:t=0,duration:a=400,easing:r=be}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:a,easing:r,css:s=>`opacity: ${s*o}`}}function xe(e,{delay:t=0,duration:a=400,easing:r=we,x:o=0,y:s=0,opacity:c=0}={}){const f=getComputedStyle(e),l=+f.opacity,n=f.transform==="none"?"":f.transform,i=l*(1-c),[u,m]=ft(o),[h,v]=ft(s);return{delay:t,duration:a,easing:r,css:(p,b)=>`
			transform: ${n} translate(${(1-p)*u}${m}, ${(1-p)*h}${v});
			opacity: ${l-i*b}`}}const Se=e=>{if(!ke()){window.location.replace(e);return}history.replaceState({},"",e)},ke=()=>window.history!==void 0&&"pushState"in window.history&&typeof window.history.pushState<"u",Ae=()=>{const{subscribe:e,set:t}=bt(void 0);return{subscribe:e,start(){t({spinner:!0,close:!1})},show(){t({spinner:!0,close:!0})},stop(){t(void 0)}}},Tt=Ae(),Te=()=>{const{subscribe:e,set:t}=bt(!1);return{subscribe:e,start(){t(!0)},stop(){t(!1)}}},Ee=Te();te([Tt,Ee],([e,t])=>Zt(e)||t);const Le=()=>Et({}),Ie=async()=>await Et({msg:{message:"You have been logged out because your session has expired.",type:"info"},clearStorages:!1}),Et=async({msg:e=void 0,clearStorages:t=!0})=>{Tt.start(),t&&await Promise.all([console.error("Store clear not implemented")]),await E.signOut(),e&&B.addToast(e),window.location.reload()},Lt="msg",It="level",Ce=()=>{const e=new URLSearchParams(window.location.search),t=e.get(Lt);if(Qt(t))return;const a=e.get(It)??"info";B.addToast({message:t,type:a}),Me()},Me=()=>{const e=new URL(window.location.href);e.searchParams.delete(Lt),e.searchParams.delete(It),Se(e)},Be=async()=>{const e=await Jt(()=>import("../chunks/iBk8YylV.js"),[],import.meta.url),t=new e.default;return t.onmessage=async({data:a})=>{const{msg:r,data:o}=a;switch(r){case"signOutIdleTimer":await Ie();return;case"delegationRemainingTime":Xt.set(o?.authRemainingTime);return}},{syncAuthIdle:a=>{if(!a.identity){t.postMessage({msg:"stopIdleTimer"});return}t.postMessage({msg:"startIdleTimer"})}}};var Ne={BACKEND_CANISTER_ID:"rbqtt-7yaaa-aaaal-qcndq-cai"};class dt{constructor(){}async getAppStatus(){const a=await(await ae.createActor(ne,Ne.BACKEND_CANISTER_ID)).getAppStatus();if(Q(a))throw new Error("Failed to get app status");return a.ok}}function Oe(){async function e(){const a=await new dt().getAppStatus();if(Q(a))throw new Error("Error fetching app status");let r=a;if(!localStorage.getItem("version")){localStorage.setItem("version",r.version);return}r.version!==localStorage.getItem("version")&&B.addToast({message:`Waterway Labs V${r.version} is now available. Click here to reload:`,type:"frontend-update"})}async function t(){const a=await new dt().getAppStatus();if(Q(a))throw new Error("Error fetching app status");let r=a;localStorage.setItem("version",r.version),window.location.replace(`${window.location.pathname}?v=${r.version}`)}return{checkServerVersion:e,updateFrontend:t}}const Re=Oe();function Fe(){Re.updateFrontend()}var Pe=x('<button class="p-1 transition-colors border border-white rounded-full group hover:bg-white hover:text-black flex flex-row items-center"><span class="flex-1 text-xs semi-bold tracking-wide text-center lg:px-4">UPDATE SITE</span> <span class="w-8 h-8 flex items-center justify-center"><!></span></button>'),De=x('<div><span> </span> <!> <button class="font-bold ml-4">&times;</button></div>');function We(e,t){C(t,!0),H(()=>{t.toast.duration&&t.toast.duration>0&&setTimeout(a,t.toast.duration)});function a(){B.removeToast(t.toast.id)}var r=De(),o=_(r),s=_(o,!0);g(o);var c=S(o,2);{var f=n=>{var i=Pe();i.__click=[Fe];var u=S(_(i),2),m=_(u);ie(m,{className:"w-8 h-8"}),g(u),g(i),w(n,i)};z(c,n=>{t.toast.type=="frontend-update"&&n(f)})}var l=S(c,2);l.__click=a,g(r),J(()=>{yt(r,1,`fixed top-0 left-0 right-0 z-[9999] p-4 text-black shadow-md flex justify-between items-center bg-${t.toast.type}`),_t(s,t.toast.message)}),w(e,r),M()}G(["click"]);var je=x("<div><!></div>");function ze(e){const[t,a]=oe(),r=()=>se(B,"$toasts",t);var o=pt(),s=P(o);wt(s,1,r,c=>c.id,(c,f)=>{var l=je(),n=_(l);We(n,{get toast(){return T(f)}}),g(l),kt(1,l,()=>xe,()=>({y:20,duration:200})),w(c,l)}),w(e,o),a()}var Ge=(e,t,a,r)=>{e.preventDefault(),t.toggleMenu(),T(a).label==="Sign Out"?r():xt(T(a).path)},He=x('<li><a class="hover:text-BrandBlue"> </a></li>'),Ue=x('<div><button class="absolute p-2 transition-all duration-200 text-BrandGrayShade4 top-4 right-4 hover:text-BrandBlue hover:scale-110" aria-label="Close sidebar"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button> <nav class="h-full px-6 pt-16 text-lg text-white bg-BrandBlueComp cta-text"><ul class="space-y-4"></ul></nav></div>');function qe(e,t){C(t,!0);let a;async function r(){await Le(),xt("/",{replaceState:!0})}const o=[{path:"/",label:"Home"},{path:"/apps",label:"Apps"},{path:"/sale",label:"Membership Sale"},{path:"/profile",label:"Profile"},{path:"/channels",label:"Channels"},{path:"/shop",label:"Shop"},{path:"/whitepaper",label:"Whitepaper"},{path:"/tokens",label:"Token Balances"},{path:"/",label:"Sign Out"}];var s=Ue(),c=_(s);c.__click=function(...n){t.toggleMenu?.apply(this,n)};var f=S(c,2),l=_(f);wt(l,21,()=>o,re,(n,i)=>{var u=He(),m=_(u);m.__click=[Ge,t,i,r];var h=_(m,!0);g(m),g(u),J(()=>{le(m,"href",T(i).path),_t(h,T(i).label)}),w(n,u)}),g(l),g(f),g(s),ce(s,n=>a=n,()=>a),J(()=>yt(s,1,`${t.isMenuOpen?"translate-x-0":"translate-x-full"} fixed inset-y-0 right-0 z-40 w-full sm:w-80 bg-white shadow-xl transform transition-transform duration-300 ease-in-out`)),w(e,s),M()}G(["click"]);function Ve(e,t){e.stopPropagation(),t.toggleMenu()}var Ke=x('<header class="z-30 flex items-center justify-between h-16 px-4 text-white shadow-md bg-BrandGray/90"><a href="/" class="flex items-center space-x-2 transition-transform hover:scale-105"><img src="logo.png" class="h-5" alt="Waterway Labs Logo"> <span class="lg:text-sm xl:text-base">WATERWAY <span class="exLight">LABS</span></span></a> <div class="flex items-center gap-4"><button class="p-2 text-white transition-colors rounded-md bg-BrandBlueComp hover:bg-BrandBlue" aria-label="Toggle menu"><!></button></div></header>');function Ye(e,t){C(t,!0);let a=Z(!1);H(async()=>{try{E.subscribe(f=>{j(a,f.identity!==null&&f.identity!==void 0,!0)})}catch(f){console.error("Error fetching homepage data:",f)}finally{}});var r=Ke(),o=S(_(r),2),s=_(o);s.__click=[Ve,t];var c=_(s);ue(c,{className:"w-6 h-6",fill:"white"}),g(s),g(o),g(r),w(e,r),M()}G(["click"]);function $e(){let e={domain:"https://identity.ic0.app"};E.signIn(e)}function Je(){E.signOut()}var Ze=x("<button>LET'S CONNECT</button>"),Qe=x("<button>LET'S CONNECT</button>"),Xe=x('<footer class="relative py-8 overflow-hidden bg-BrandGray"><div class="absolute ellipse-1"></div> <div class="absolute ellipse-2"></div> <div class="relative z-10"><div class="flex flex-col px-6 lg:px-12 lg:flex-row lg:items-center lg:justify-between"><div class="flex items-center mb-6 lg:mb-0"><a href="/" class="flex items-center"><img src="logo.png" class="h-5 lg:h-4" alt="Waterway Labs Logo"> <span class="ml-2 tracking-wide"><span class="text-white">WATERWAY</span> <span class="text-white exLight">LABS</span></span></a></div> <div class="flex flex-col text-sm uppercase exLight lg:mb-0 lg:flex-row"><a href="/" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">Products</a> <a href="/about" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">About Us</a> <a href="/team" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">The Team</a></div></div> <hr class="my-6 border-t-2 border-[#4E4E4E] mx-6 lg:mx-auto lg:w-[1450px]"> <div class="flex flex-col px-6 lg:px-12 lg:flex-row lg:items-center lg:justify-between"><div class="mb-4 lg:mb-0"><!></div> <div class="flex flex-col text-sm uppercase exLight lg:flex-row "><a href="https://github.com" target="_blank" class="mb-4 lg:mb-0 lg:mx-2 hover:text-blue-400">GitHub</a> <a href="https://twitter.com" target="_blank" class="mb-4 lg:mb-0 lg:mx-2 hover:text-blue-400">Twitter</a></div></div></div></footer>');function ta(e,t){C(t,!1);let a=$(!1);H(async()=>{try{E.subscribe(i=>{j(a,i.identity!==null&&i.identity!==void 0)})}catch(i){console.error("Error fetching homepage data:",i)}finally{}}),fe();var r=Xe(),o=S(_(r),4),s=S(_(o),4),c=_(s),f=_(c);{var l=i=>{var u=Ze();u.__click=[Je],w(i,u)},n=i=>{var u=Qe();u.__click=[$e],w(i,u)};z(f,i=>{T(a)?i(l):i(n,!1)})}g(c),qt(2),g(s),g(o),g(r),w(e,r),M()}G(["click"]);var ea=x("<!> <!>",1),aa=x("<!> <!> <!> <!>",1),ra=x("<div><!></div>");function La(e,t){C(t,!0);let a=Z(!0),r=Z(!1);function o(){j(r,!T(r))}H(async()=>{document.querySelector("#app-spinner")?.remove(),await Be(),j(a,!1)});const s=async()=>{await E.sync(),Ce()};var c=pt();Yt("storage",Vt,function(...l){E.sync?.apply(this,l)});var f=P(c);de(f,s,l=>{var n=ra(),i=_(n);ee(i),g(n),kt(1,n,()=>ye),w(l,n)},(l,n)=>{var i=aa(),u=P(i);ze(u);var m=S(u,2);{var h=d=>{var y=ea(),k=P(y);Ye(k,{toggleMenu:o});var N=S(k,2);qe(N,{get isMenuOpen(){return T(r)},toggleMenu:o}),w(d,y)};z(m,d=>{lt.url.pathname!="/"&&d(h)})}var v=S(m,2);pe(v,()=>t.children);var p=S(v,2);{var b=d=>{ta(d,{})};z(p,d=>{lt.url.pathname!="/"&&d(b)})}w(l,i)}),w(e,c),M()}export{La as component,Ea as universal};
