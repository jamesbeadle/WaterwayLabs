import{t as k,a as b,c as H}from"../chunks/BDKojraI.js";import{aC as Bt,w as ht,x as P,y as Pt,aF as ot,z as Ft,A as Rt,B as Dt,C as nt,U as it,ak as V,am as lt,m as X,F as z,q as _t,I as gt,a8 as W,a7 as U,aG as ct,V as Ht,D as ut,G as K,aD as zt,E as bt,M as C,aq as Wt,aa as ft,aH as Ut,aI as jt,e as qt,u as Gt,aJ as Vt,aK as Kt,a9 as Yt,o as O,f as j,a3 as x,a2 as _,b as A,a4 as h,aL as Jt,v as B,X as Xt,a0 as Z,a1 as M,t as Q,aM as Zt}from"../chunks/B452Qe2l.js";import{a as Qt,d as G,s as wt,e as te}from"../chunks/CtzJgeYZ.js";import{i as $}from"../chunks/CMdDx7UK.js";import{w as ee}from"../chunks/DazkfGlB.js";import{o as et}from"../chunks/n7d6eQ0d.js";import{_ as ae}from"../chunks/CmsKOCeN.js";import{s as re,a as N,f as se,g as oe}from"../chunks/C5tH4-mR.js";import{d as ne,w as yt}from"../chunks/CjHrAA-f.js";import{t as F}from"../chunks/CwNm-GS5.js";import{s as at,a as rt}from"../chunks/s8S-WNyZ.js";import{p as xt,H as kt}from"../chunks/bypJfpXG.js";import"../chunks/ClP5tquS.js";import{i as ie}from"../chunks/n78haCoW.js";import{L as le}from"../chunks/C6dss-Zp.js";import{A as ce,a as tt,e as St,i as ue}from"../chunks/CJXEEcVJ.js";import{s as At}from"../chunks/DCr3u3KK.js";import{i as fe}from"../chunks/D4AOU7VX.js";import{A as de}from"../chunks/C7G5iNeL.js";import{s as ve}from"../chunks/yncQ10eo.js";import{b as pe}from"../chunks/BU0gRZdh.js";import{g as Tt}from"../chunks/CO5D4bxt.js";const Y=0,D=1,J=2;function me(e,t,a,r,n){P&&Pt();var s=e,u=Bt(),v=Ht,i=it,o,l,c,f=(u?lt:X)(void 0),m=(u?lt:X)(void 0),d=!1;function p(g,S){d=!0,S&&(W(w),U(w),ct(v));try{g===Y&&a&&(o?ut(o):o=z(()=>a(s))),g===D&&r&&(l?ut(l):l=z(()=>r(s,f))),g!==Y&&o&&K(o,()=>o=null),g!==D&&l&&K(l,()=>l=null),g!==J&&c&&K(c,()=>c=null)}finally{S&&(ct(null),U(null),W(null),zt())}}var w=ht(()=>{if(i===(i=t()))return;let g=P&&ot(i)===(s.data===Ft);if(g&&(s=Rt(),Dt(s),nt(!1),g=!0),ot(i)){var S=i;d=!1,S.then(y=>{S===i&&(V(f,y),p(D,!0))},y=>{if(S===i)throw V(m,y),p(J,!0),m.v}),P?a&&(o=z(()=>a(s))):_t(()=>{d||p(Y,!0)})}else V(f,i),p(D,!1);return g&&nt(!0),()=>i=it});P&&(s=gt)}function q(e,t,...a){var r=e,n=C,s;ht(()=>{n!==(n=t())&&(s&&(Wt(s),s=null),s=z(()=>n(r,...a)))},bt),P&&(r=gt)}const he=()=>performance.now(),E={tick:e=>requestAnimationFrame(e),now:()=>he(),tasks:new Set};function Et(){const e=E.now();E.tasks.forEach(t=>{t.c(e)||(E.tasks.delete(t),t.f())}),E.tasks.size!==0&&E.tick(Et)}function _e(e){let t;return E.tasks.size===0&&E.tick(Et),{promise:new Promise(a=>{E.tasks.add(t={c:e,f:a})}),abort(){E.tasks.delete(t)}}}function dt(e,t){ee(()=>{e.dispatchEvent(new CustomEvent(t))})}function ge(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function vt(e){const t={},a=e.split(";");for(const r of a){const[n,s]=r.split(":");if(!n||s===void 0)break;const u=ge(n.trim());t[u]=s.trim()}return t}const be=e=>e;function Lt(e,t,a,r){var n=(e&Vt)!==0,s="in",u,v=t.inert,i=t.style.overflow,o,l;function c(){var w=Yt,g=ft;U(null),W(null);try{return u??(u=a()(t,r?.()??{},{direction:s}))}finally{U(w),W(g)}}var f={is_global:n,in(){t.inert=v,o?.abort(),dt(t,"introstart"),o=It(t,c(),l,1,()=>{dt(t,"introend"),o?.abort(),o=u=void 0,t.style.overflow=i})},out(w){{w?.(),u=void 0;return}},stop:()=>{o?.abort()}},m=ft;if((m.transitions??(m.transitions=[])).push(f),Qt){var d=n;if(!d){for(var p=m.parent;p&&p.f&bt;)for(;(p=p.parent)&&!(p.f&Ut););d=!p||(p.f&jt)!==0}d&&qt(()=>{Gt(()=>f.in())})}}function It(e,t,a,r,n){if(Kt(t)){var s,u=!1;return _t(()=>{if(!u){var p=t({direction:"in"});s=It(e,p,a,r,n)}}),{abort:()=>{u=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(!t?.duration)return n(),{abort:C,deactivate:C,reset:C,t:()=>r};const{delay:v=0,css:i,tick:o,easing:l=be}=t;var c=[];if(o&&o(0,1),i){var f=vt(i(0,1));c.push(f,f)}var m=()=>1-r,d=e.animate(c,{duration:v});return d.onfinish=()=>{var p=1-r,w=r-p,g=t.duration*Math.abs(w),S=[];if(g>0){var y=!1;if(i)for(var L=Math.ceil(g/16.666666666666668),T=0;T<=L;T+=1){var I=p+w*l(T/L),st=vt(i(I,1-I));S.push(st),y||(y=st.overflow==="hidden")}y&&(e.style.overflow="hidden"),m=()=>{var R=d.currentTime;return p+w*l(R/g)},o&&_e(()=>{if(d.playState!=="running")return!1;var R=m();return o(R,1-R),!0})}d=e.animate(S,{duration:g,fill:"forwards"}),d.onfinish=()=>{m=()=>r,o?.(r,1-r),n()}},{abort:()=>{d&&(d.cancel(),d.effect=null,d.onfinish=C)},deactivate:()=>{n=C},reset:()=>{},t:()=>m()}}const we=!1,Ca=Object.freeze(Object.defineProperty({__proto__:null,ssr:we},Symbol.toStringTag,{value:"Module"})),ye=e=>e;function xe(e){const t=e-1;return t*t*t+1}function pt(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function ke(e,{delay:t=0,duration:a=400,easing:r=ye}={}){const n=+getComputedStyle(e).opacity;return{delay:t,duration:a,easing:r,css:s=>`opacity: ${s*n}`}}function Se(e,{delay:t=0,duration:a=400,easing:r=xe,x:n=0,y:s=0,opacity:u=0}={}){const v=getComputedStyle(e),i=+v.opacity,o=v.transform==="none"?"":v.transform,l=i*(1-u),[c,f]=pt(n),[m,d]=pt(s);return{delay:t,duration:a,easing:r,css:(p,w)=>`
			transform: ${o} translate(${(1-p)*c}${f}, ${(1-p)*m}${d});
			opacity: ${i-l*w}`}}const Ae=e=>{if(!Te()){window.location.replace(e);return}history.replaceState({},"",e)},Te=()=>window.history!==void 0&&"pushState"in window.history&&typeof window.history.pushState<"u",Ee=()=>{const{subscribe:e,set:t}=yt(void 0);return{subscribe:e,start(){t({spinner:!0,close:!1})},show(){t({spinner:!0,close:!0})},stop(){t(void 0)}}},Ct=Ee(),Le=()=>{const{subscribe:e,set:t}=yt(!1);return{subscribe:e,start(){t(!0)},stop(){t(!1)}}},Ie=Le();ne([Ct,Ie],([e,t])=>re(e)||t);const Ce=()=>Mt({}),Me=async()=>await Mt({msg:{message:"You have been logged out because your session has expired.",type:"info"},clearStorages:!1}),Mt=async({msg:e=void 0,clearStorages:t=!0})=>{Ct.start(),t&&await Promise.all([console.error("Store clear not implemented")]),await N.signOut(),e&&F.addToast(e),window.location.reload()},$t="msg",Nt="level",$e=()=>{const e=new URLSearchParams(window.location.search),t=e.get($t);if(se(t))return;const a=e.get(Nt)??"info";F.addToast({message:t,type:a}),Ne()},Ne=()=>{const e=new URL(window.location.href);e.searchParams.delete($t),e.searchParams.delete(Nt),Ae(e)},Oe=async()=>{const e=await ae(()=>import("../chunks/iBk8YylV.js"),[],import.meta.url),t=new e.default;return t.onmessage=async({data:a})=>{const{msg:r,data:n}=a;switch(r){case"signOutIdleTimer":await Me();return;case"delegationRemainingTime":oe.set(n?.authRemainingTime);return}},{syncAuthIdle:a=>{if(!a.identity){t.postMessage({msg:"stopIdleTimer"});return}t.postMessage({msg:"startIdleTimer"})}}};function Be(){let e={domain:"https://identity.ic0.app"};N.signIn(e)}function Pe(){N.signOut()}var Fe=k("<button>LET'S CONNECT</button>"),Re=k("<button>LET'S CONNECT</button>"),De=k('<footer class="relative py-8 overflow-hidden bg-BrandGray"><div class="absolute ellipse-1"></div> <div class="absolute ellipse-2"></div> <div class="relative z-10"><div class="flex flex-col px-6 lg:px-12 lg:flex-row lg:items-center lg:justify-between"><div class="flex items-center mb-6 lg:mb-0"><a href="/" class="flex items-center"><img src="logo.png" class="h-5 lg:h-4" alt="Waterway Labs Logo"> <span class="ml-2 tracking-wide"><span class="text-white">WATERWAY</span> <span class="text-white exLight">LABS</span></span></a></div> <div class="flex flex-col text-sm uppercase exLight lg:mb-0 lg:flex-row"><a href="/" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">Products</a> <a href="/about" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">About Us</a> <a href="/team" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">The Team</a></div></div> <hr class="my-6 border-t-2 border-[#4E4E4E] mx-6 lg:mx-auto lg:w-[1450px]"> <div class="flex flex-col px-6 lg:px-12 lg:flex-row lg:items-center lg:justify-between"><div class="mb-4 lg:mb-0"><!></div> <div class="flex flex-col text-sm uppercase exLight lg:flex-row "><a href="https://github.com" target="_blank" class="mb-4 lg:mb-0 lg:mx-2 hover:text-blue-400">GitHub</a> <a href="https://twitter.com" target="_blank" class="mb-4 lg:mb-0 lg:mx-2 hover:text-blue-400">Twitter</a></div></div></div></footer>');function Ot(e,t){O(t,!1);let a=X(!1);et(async()=>{try{N.subscribe(l=>{j(a,l.identity!==null&&l.identity!==void 0)})}catch(l){console.error("Error fetching homepage data:",l)}finally{}}),ie();var r=De(),n=x(_(r),4),s=x(_(n),4),u=_(s),v=_(u);{var i=l=>{var c=Fe();c.__click=[Pe],b(l,c)},o=l=>{var c=Re();c.__click=[Be],b(l,c)};$(v,l=>{A(a)?l(i):l(o,!1)})}h(u),Jt(2),h(s),h(n),h(r),b(e,r),B()}G(["click"]);var He=k('<div class="mx-4 mt-2"><!></div>'),ze=k('<div class="full-screen-flex"><!> <!> <!></div>');function We(e,t){O(t,!0);const[a,r]=rt(),n=()=>at(xt,"$page",a);var s=ze(),u=_(s);{var v=c=>{var f=He(),m=_(f);kt(m,{}),h(f),b(c,f)};$(u,c=>{n().url.pathname!="/"&&c(v)})}var i=x(u,2);q(i,()=>t.children);var o=x(i,2);{var l=c=>{Ot(c,{})};$(o,c=>{n().url.pathname!="/"&&c(l)})}h(s),b(e,s),B(),r()}var Ue=k('<div class="full-screen-flex-col"><div class="w-full px-4"><!></div> <div class="w-full"><!></div></div> <!>',1);function je(e,t){O(t,!0);const[a,r]=rt(),n=()=>at(xt,"$page",a);let s=Z(!1);Xt(()=>{j(s,n().url.pathname==="/")});var u=Ue(),v=M(u),i=_(v),o=_(i);kt(o,{}),h(i);var l=x(i,2),c=_(l);q(c,()=>t.children),h(l),h(v);var f=x(v,2);{var m=d=>{Ot(d,{})};$(f,d=>{A(s)||d(m)})}b(e,u),B(),r()}var qe={BACKEND_CANISTER_ID:"rbqtt-7yaaa-aaaal-qcndq-cai"};class mt{constructor(){}async getAppStatus(){const a=await(await ce.createActor(fe,qe.BACKEND_CANISTER_ID)).getAppStatus();if(tt(a))throw new Error("Failed to get app status");return a.ok}}function Ge(){async function e(){const a=await new mt().getAppStatus();if(tt(a))throw new Error("Error fetching app status");let r=a;if(!localStorage.getItem("version")){localStorage.setItem("version",r.version);return}r.version!==localStorage.getItem("version")&&F.addToast({message:`Waterway Labs V${r.version} is now available. Click here to reload:`,type:"frontend-update"})}async function t(){const a=await new mt().getAppStatus();if(tt(a))throw new Error("Error fetching app status");let r=a;localStorage.setItem("version",r.version),window.location.replace(`${window.location.pathname}?v=${r.version}`)}return{checkServerVersion:e,updateFrontend:t}}const Ve=Ge();function Ke(){Ve.updateFrontend()}var Ye=k('<button class="p-1 transition-colors border border-white rounded-full group hover:bg-white hover:text-black flex flex-row items-center"><span class="flex-1 text-xs semi-bold tracking-wide text-center lg:px-4">UPDATE SITE</span> <span class="w-8 h-8 flex items-center justify-center"><!></span></button>'),Je=k('<div><span> </span> <!> <button class="font-bold ml-4">&times;</button></div>');function Xe(e,t){O(t,!0),et(()=>{t.toast.duration&&t.toast.duration>0&&setTimeout(a,t.toast.duration)});function a(){F.removeToast(t.toast.id)}var r=Je(),n=_(r),s=_(n,!0);h(n);var u=x(n,2);{var v=o=>{var l=Ye();l.__click=[Ke];var c=x(_(l),2),f=_(c);de(f,{className:"w-8 h-8"}),h(c),h(l),b(o,l)};$(u,o=>{t.toast.type=="frontend-update"&&o(v)})}var i=x(u,2);i.__click=a,h(r),Q(()=>{At(r,1,`fixed top-0 left-0 right-0 z-[9999] p-4 text-black shadow-md flex justify-between items-center bg-${t.toast.type}`),wt(s,t.toast.message)}),b(e,r),B()}G(["click"]);var Ze=k("<div><!></div>");function Qe(e){const[t,a]=rt(),r=()=>at(F,"$toasts",t);var n=H(),s=M(n);St(s,1,r,u=>u.id,(u,v)=>{var i=Ze(),o=_(i);Xe(o,{get toast(){return A(v)}}),h(i),Lt(1,i,()=>Se,()=>({y:20,duration:200})),b(u,i)}),b(e,n),a()}var ta=(e,t,a,r)=>{e.preventDefault(),t.toggleMenu(),A(a).label==="Sign Out"?r():Tt(A(a).path)},ea=k('<li><a class="hover:text-BrandBlue"> </a></li>'),aa=k('<div><button class="absolute p-2 transition-all duration-200 text-BrandGrayShade4 top-4 right-4 hover:text-BrandBlue hover:scale-110" aria-label="Close sidebar"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button> <nav class="h-full px-6 pt-16 text-lg text-white bg-BrandBlueComp cta-text"><ul class="space-y-4"></ul></nav></div>');function ra(e,t){O(t,!0);let a;async function r(){await Ce(),Tt("/",{replaceState:!0})}const n=[{path:"/",label:"Home"},{path:"/apps",label:"Apps"},{path:"/sale",label:"Membership Sale"},{path:"/profile",label:"Profile"},{path:"/channels",label:"Channels"},{path:"/shop",label:"Shop"},{path:"/whitepaper",label:"Whitepaper"},{path:"/tokens",label:"Token Balances"},{path:"/",label:"Sign Out"}];var s=aa(),u=_(s);u.__click=function(...o){t.toggleMenu?.apply(this,o)};var v=x(u,2),i=_(v);St(i,21,()=>n,ue,(o,l)=>{var c=ea(),f=_(c);f.__click=[ta,t,l,r];var m=_(f,!0);h(f),h(c),Q(()=>{ve(f,"href",A(l).path),wt(m,A(l).label)}),b(o,c)}),h(i),h(v),h(s),pe(s,o=>a=o,()=>a),Q(()=>At(s,1,`${t.isMenuOpen?"translate-x-0":"translate-x-full"} fixed inset-y-0 right-0 z-40 w-full sm:w-80 bg-white shadow-xl transform transition-transform duration-300 ease-in-out`)),b(e,s),B()}G(["click"]);var sa=(e,t)=>e.key==="Enter"&&t(),oa=k('<button class="fixed inset-0 z-30 pointer-events-none bg-black/40 sm:bg-black/20 sm:pointer-events-auto" aria-label="Close menu overlay"></button>'),na=k('<!> <div class="block lg:hidden"><!></div> <div class="hidden lg:block"><!></div> <!> <!>',1),ia=k("<div><!></div>");function Ma(e,t){O(t,!0);let a=Z(!0),r=Z(!1);function n(){j(r,!A(r))}et(async()=>{document.querySelector("#app-spinner")?.remove(),await Oe(),j(a,!1)});const s=async()=>{await N.sync(),$e()};var u=H();te("storage",Zt,function(...i){N.sync?.apply(this,i)});var v=M(u);me(v,s,i=>{var o=ia(),l=_(o);le(l),h(o),Lt(1,o,()=>ke),b(i,o)},(i,o)=>{var l=na(),c=M(l);Qe(c);var f=x(c,2),m=_(f);je(m,{children:(y,L)=>{var T=H(),I=M(T);q(I,()=>t.children),b(y,T)},$$slots:{default:!0}}),h(f);var d=x(f,2),p=_(d);We(p,{children:(y,L)=>{var T=H(),I=M(T);q(I,()=>t.children),b(y,T)},$$slots:{default:!0}}),h(d);var w=x(d,2);ra(w,{get isMenuOpen(){return A(r)},toggleMenu:n});var g=x(w,2);{var S=y=>{var L=oa();L.__click=n,L.__keydown=[sa,n],b(y,L)};$(g,y=>{A(r)&&y(S)})}b(i,l)}),b(e,u),B()}G(["click","keydown"]);export{Ma as component,Ca as universal};
