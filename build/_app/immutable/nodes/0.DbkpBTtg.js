import{t as A,a as h,c as $}from"../chunks/DX8m2tSQ.js";import{aC as wt,A as pt,B as F,C as Tt,aF as et,D as At,F as Et,G as kt,I as at,U as rt,ak as K,am as st,m as J,K as W,z as mt,N as gt,a8 as P,a7 as j,aG as ot,Z as St,J as nt,M as U,aD as It,E as _t,R as I,aq as Lt,aa as it,aH as Ct,aI as Nt,x as Ft,u as Mt,aJ as Ot,aK as Rt,a9 as Bt,p as z,c as b,r as y,s as T,t as Dt,a as G,f as M,g as O,b as q,a4 as Z,aL as Wt,aM as Pt}from"../chunks/28KOF02-.js";import{a as jt,d as X,s as qt,e as zt}from"../chunks/BrLL02L8.js";import{i as R}from"../chunks/4QRNV0Wj.js";import{w as Gt}from"../chunks/Cn3kC2mW.js";import{o as H}from"../chunks/Cy1TuDO4.js";import{p as ct}from"../chunks/Bp5o6YSa.js";import{_ as Ht}from"../chunks/CmsKOCeN.js";import{i as Kt,M as Ut,d as Vt,S as Yt}from"../chunks/BTuoD01r.js";import{g as $t,a as L}from"../chunks/Xv9BEGJA.js";import{L as lt}from"../chunks/CJFKEjEO.js";import"../chunks/CtF7yd9l.js";import{A as Jt,a as Q,e as Zt}from"../chunks/CfWsxDI7.js";import{a as Qt,s as Xt}from"../chunks/p_FN90b5.js";import{t as tt}from"../chunks/BZqX3NoH.js";import{s as te}from"../chunks/BFf9ZTA5.js";import{i as ee}from"../chunks/DCKHOiLB.js";import{A as ae}from"../chunks/fHFVvpxl.js";import{i as re}from"../chunks/C0eGtqi0.js";const V=0,D=1,Y=2;function se(e,t,r,a,o){F&&Tt();var s=e,l=wt(),v=St,c=rt,n,i,d,g=(l?st:J)(void 0),m=(l?st:J)(void 0),f=!1;function u(p,x){f=!0,x&&(P(_),j(_),ot(v));try{p===V&&r&&(n?nt(n):n=W(()=>r(s))),p===D&&a&&(i?nt(i):i=W(()=>a(s,g))),p!==V&&n&&U(n,()=>n=null),p!==D&&i&&U(i,()=>i=null),p!==Y&&d&&U(d,()=>d=null)}finally{x&&(ot(null),j(null),P(null),It())}}var _=pt(()=>{if(c===(c=t()))return;let p=F&&et(c)===(s.data===At);if(p&&(s=Et(),kt(s),at(!1),p=!0),et(c)){var x=c;f=!1,x.then(E=>{x===c&&(K(g,E),u(D,!0))},E=>{if(x===c)throw K(m,E),u(Y,!0),m.v}),F?r&&(n=W(()=>r(s))):mt(()=>{f||u(V,!0)})}else K(g,c),u(D,!1);return p&&at(!0),()=>c=rt});F&&(s=gt)}function oe(e,t,...r){var a=e,o=I,s;pt(()=>{o!==(o=t())&&(s&&(Lt(s),s=null),s=W(()=>o(a,...r)))},_t),F&&(a=gt)}const ne=()=>performance.now(),k={tick:e=>requestAnimationFrame(e),now:()=>ne(),tasks:new Set};function ht(){const e=k.now();k.tasks.forEach(t=>{t.c(e)||(k.tasks.delete(t),t.f())}),k.tasks.size!==0&&k.tick(ht)}function ie(e){let t;return k.tasks.size===0&&k.tick(ht),{promise:new Promise(r=>{k.tasks.add(t={c:e,f:r})}),abort(){k.tasks.delete(t)}}}function ft(e,t){Gt(()=>{e.dispatchEvent(new CustomEvent(t))})}function ce(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function ut(e){const t={},r=e.split(";");for(const a of r){const[o,s]=a.split(":");if(!o||s===void 0)break;const l=ce(o.trim());t[l]=s.trim()}return t}const le=e=>e;function bt(e,t,r,a){var o=(e&Ot)!==0,s="in",l,v=t.inert,c=t.style.overflow,n,i;function d(){var _=Bt,p=it;j(null),P(null);try{return l??(l=r()(t,a?.()??{},{direction:s}))}finally{j(_),P(p)}}var g={is_global:o,in(){t.inert=v,n?.abort(),ft(t,"introstart"),n=yt(t,d(),i,1,()=>{ft(t,"introend"),n?.abort(),n=l=void 0,t.style.overflow=c})},out(_){{_?.(),l=void 0;return}},stop:()=>{n?.abort()}},m=it;if((m.transitions??(m.transitions=[])).push(g),jt){var f=o;if(!f){for(var u=m.parent;u&&u.f&_t;)for(;(u=u.parent)&&!(u.f&Ct););f=!u||(u.f&Nt)!==0}f&&Ft(()=>{Mt(()=>g.in())})}}function yt(e,t,r,a,o){if(Rt(t)){var s,l=!1;return mt(()=>{if(!l){var u=t({direction:"in"});s=yt(e,u,r,a,o)}}),{abort:()=>{l=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(!t?.duration)return o(),{abort:I,deactivate:I,reset:I,t:()=>a};const{delay:v=0,css:c,tick:n,easing:i=le}=t;var d=[];if(n&&n(0,1),c){var g=ut(c(0,1));d.push(g,g)}var m=()=>1-a,f=e.animate(d,{duration:v});return f.onfinish=()=>{var u=1-a,_=a-u,p=t.duration*Math.abs(_),x=[];if(p>0){var E=!1;if(c)for(var B=Math.ceil(p/16.666666666666668),C=0;C<=B;C+=1){var w=u+_*i(C/B),N=ut(c(w,1-w));x.push(N),E||(E=N.overflow==="hidden")}E&&(e.style.overflow="hidden"),m=()=>{var S=f.currentTime;return u+_*i(S/p)},n&&ie(()=>{if(f.playState!=="running")return!1;var S=m();return n(S,1-S),!0})}f=e.animate(x,{duration:p,fill:"forwards"}),f.onfinish=()=>{m=()=>a,n?.(a,1-a),o()}},{abort:()=>{f&&(f.cancel(),f.effect=null,f.onfinish=I)},deactivate:()=>{o=I},reset:()=>{},t:()=>m()}}const fe=!1,aa=Object.freeze(Object.defineProperty({__proto__:null,ssr:fe},Symbol.toStringTag,{value:"Module"})),ue=e=>e;function ve(e){const t=e-1;return t*t*t+1}function vt(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function de(e,{delay:t=0,duration:r=400,easing:a=ue}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:a,css:s=>`opacity: ${s*o}`}}function pe(e,{delay:t=0,duration:r=400,easing:a=ve,x:o=0,y:s=0,opacity:l=0}={}){const v=getComputedStyle(e),c=+v.opacity,n=v.transform==="none"?"":v.transform,i=c*(1-l),[d,g]=vt(o),[m,f]=vt(s);return{delay:t,duration:r,easing:a,css:(u,_)=>`
			transform: ${n} translate(${(1-u)*d}${g}, ${(1-u)*m}${f});
			opacity: ${c-i*_}`}}const me=async()=>{const e=await Ht(()=>import("../chunks/iBk8YylV.js"),[],import.meta.url),t=new e.default;return t.onmessage=async({data:r})=>{const{msg:a,data:o}=r;switch(a){case"signOutIdleTimer":await Kt();return;case"delegationRemainingTime":$t.set(o?.authRemainingTime);return}},{syncAuthIdle:r=>{if(!r.identity){t.postMessage({msg:"stopIdleTimer"});return}t.postMessage({msg:"startIdleTimer"})}}};var ge={BACKEND_CANISTER_ID:"rbqtt-7yaaa-aaaal-qcndq-cai"};class dt{constructor(){}async getAppStatus(){const r=await(await Jt.createActor(ee,ge.BACKEND_CANISTER_ID)).getAppStatus();if(Q(r))throw new Error("Failed to get app status");return r.ok}}function _e(){async function e(){const r=await new dt().getAppStatus();if(Q(r))throw new Error("Error fetching app status");let a=r;if(!localStorage.getItem("version")){localStorage.setItem("version",a.version);return}a.version!==localStorage.getItem("version")&&tt.addToast({message:`Waterway Labs V${a.version} is now available. Click here to reload:`,type:"frontend-update"})}async function t(){const r=await new dt().getAppStatus();if(Q(r))throw new Error("Error fetching app status");let a=r;localStorage.setItem("version",a.version),window.location.replace(`${window.location.pathname}?v=${a.version}`)}return{checkServerVersion:e,updateFrontend:t}}const he=_e();function be(){he.updateFrontend()}var ye=A('<button class="p-1 transition-colors border border-white rounded-full group hover:bg-white hover:text-black flex flex-row items-center"><span class="flex-1 text-xs semi-bold tracking-wide text-center lg:px-4">UPDATE SITE</span> <span class="w-8 h-8 flex items-center justify-center"><!></span></button>'),xe=A('<div><span> </span> <!> <button class="font-bold ml-4">&times;</button></div>');function we(e,t){z(t,!0),H(()=>{t.toast.duration&&t.toast.duration>0&&setTimeout(r,t.toast.duration)});function r(){tt.removeToast(t.toast.id)}var a=xe(),o=b(a),s=b(o,!0);y(o);var l=T(o,2);{var v=n=>{var i=ye();i.__click=[be];var d=T(b(i),2),g=b(d);ae(g,{className:"w-8 h-8"}),y(d),y(i),h(n,i)};R(l,n=>{t.toast.type=="frontend-update"&&n(v)})}var c=T(l,2);c.__click=r,y(a),Dt(()=>{te(a,1,`fixed top-0 left-0 right-0 z-[9999] p-4 text-black shadow-md flex justify-between items-center bg-${t.toast.type}`),qt(s,t.toast.message)}),h(e,a),G()}X(["click"]);var Te=A("<div><!></div>");function Ae(e){const[t,r]=Qt(),a=()=>Xt(tt,"$toasts",t);var o=$(),s=M(o);Zt(s,1,a,l=>l.id,(l,v)=>{var c=Te(),n=b(c);we(n,{get toast(){return O(v)}}),y(c),bt(1,c,()=>pe,()=>({y:20,duration:200})),h(l,c)}),h(e,o),r()}function Ee(e,t){e.stopPropagation(),t.toggleMenu()}var ke=A('<header class="z-30 flex items-center justify-between h-16 px-4 text-white shadow-md bg-BrandGray/90"><a href="/" class="flex items-center space-x-2 transition-transform hover:scale-105"><img src="logo.png" class="h-5" alt="Waterway Labs Logo"> <span class="lg:text-sm xl:text-base">WATERWAY <span class="exLight">LABS</span></span></a> <div class="flex items-center gap-4"><button class="p-2 text-white transition-colors rounded-md bg-BrandBlueComp hover:bg-BrandBlue" aria-label="Toggle menu"><!></button></div></header>');function Se(e,t){z(t,!0);let r=Z(!1);H(async()=>{try{L.subscribe(v=>{q(r,v.identity!==null&&v.identity!==void 0,!0)})}catch(v){console.error("Error fetching homepage data:",v)}finally{}});var a=ke(),o=T(b(a),2),s=b(o);s.__click=[Ee,t];var l=b(s);Ut(l,{className:"w-6 h-6",fill:"white"}),y(s),y(o),y(a),h(e,a),G()}X(["click"]);function Ie(){let e={domain:"https://identity.ic0.app"};L.signIn(e)}function Le(){L.signOut()}var Ce=A("<button>LET'S CONNECT</button>"),Ne=A("<button>LET'S CONNECT</button>"),Fe=A('<footer class="relative py-8 overflow-hidden bg-BrandGray"><div class="absolute ellipse-1"></div> <div class="absolute ellipse-2"></div> <div class="relative z-10"><div class="flex flex-col px-6 lg:px-12 lg:flex-row lg:items-center lg:justify-between"><div class="flex items-center mb-6 lg:mb-0"><a href="/" class="flex items-center"><img src="logo.png" class="h-5 lg:h-4" alt="Waterway Labs Logo"> <span class="ml-2 tracking-wide"><span class="text-white">WATERWAY</span> <span class="text-white exLight">LABS</span></span></a></div> <div class="flex flex-col text-sm uppercase exLight lg:mb-0 lg:flex-row"><a href="/" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">Products</a> <a href="/about" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">About Us</a> <a href="/team" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">The Team</a></div></div> <hr class="my-6 border-t-2 border-[#4E4E4E] mx-6 lg:mx-auto lg:w-[1450px]"> <div class="flex flex-col px-6 lg:px-12 lg:flex-row lg:items-center lg:justify-between"><div class="mb-4 lg:mb-0"><!></div> <div class="flex flex-col text-sm uppercase exLight lg:flex-row "><a href="https://github.com" target="_blank" class="mb-4 lg:mb-0 lg:mx-2 hover:text-blue-400">GitHub</a> <a href="https://twitter.com" target="_blank" class="mb-4 lg:mb-0 lg:mx-2 hover:text-blue-400">Twitter</a></div></div></div></footer>');function Me(e,t){z(t,!1);let r=J(!1);H(async()=>{try{L.subscribe(i=>{q(r,i.identity!==null&&i.identity!==void 0)})}catch(i){console.error("Error fetching homepage data:",i)}finally{}}),re();var a=Fe(),o=T(b(a),4),s=T(b(o),4),l=b(s),v=b(l);{var c=i=>{var d=Ce();d.__click=[Le],h(i,d)},n=i=>{var d=Ne();d.__click=[Ie],h(i,d)};R(v,i=>{O(r)?i(c):i(n,!1)})}y(l),Wt(2),y(s),y(o),y(a),h(e,a),G()}X(["click"]);var Oe=A("<!> <!>",1),Re=A("<!> <!> <!> <!>",1),Be=A("<div><!></div>");function ra(e,t){z(t,!0);let r=Z(!0),a=Z(!1);function o(){q(a,!O(a))}H(async()=>{document.querySelector("#app-spinner")?.remove(),await me(),q(r,!1)});const s=async()=>{await L.sync(),Vt()};var l=$();zt("storage",Pt,function(...c){L.sync?.apply(this,c)});var v=M(l);se(v,s,c=>{var n=Be(),i=b(n);lt(i),y(n),bt(1,n,()=>de),h(c,n)},(c,n)=>{var i=$(),d=M(i);{var g=f=>{lt(f)},m=f=>{var u=Re(),_=M(u);Ae(_);var p=T(_,2);{var x=w=>{var N=Oe(),S=M(N);Se(S,{toggleMenu:o});var xt=T(S,2);Yt(xt,{get isMenuOpen(){return O(a)},toggleMenu:o}),h(w,N)};R(p,w=>{ct.url.pathname!="/"&&w(x)})}var E=T(p,2);oe(E,()=>t.children);var B=T(E,2);{var C=w=>{Me(w,{})};R(B,w=>{ct.url.pathname!="/"&&w(C)})}h(f,u)};R(d,f=>{O(r)?f(g):f(m,!1)})}h(c,i)}),h(e,l),G()}export{ra as component,aa as universal};
