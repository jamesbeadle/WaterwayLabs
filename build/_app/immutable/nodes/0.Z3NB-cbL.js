import{t as x,a as y,c as O}from"../chunks/B8wwXusQ.js";import{aC as It,q as vt,r as I,v as $t,aG as at,w as Ct,x as Nt,y as Pt,z as rt,U as st,aj as U,al as ot,m as G,B as M,ah as pt,D as mt,a5 as D,a4 as H,aH as nt,Q as Rt,A as it,C as j,aE as Ft,E as _t,I as S,ap as Ot,a7 as ct,aI as Mt,aJ as Dt,a9 as Ht,u as Bt,aK as Wt,aL as Ut,a6 as jt,n as C,e as K,a0 as b,$ as h,b as Y,a1 as w,ay as zt,o as N,T as qt,Z as gt,_ as k,t as Gt,aM as Vt}from"../chunks/CGAOmSDk.js";import{a as Kt,d as ht,s as Yt,e as Zt}from"../chunks/BQgH46dZ.js";import{w as Jt}from"../chunks/Dg8fJiiA.js";import{o as Z}from"../chunks/IqAt358O.js";import{_ as Qt}from"../chunks/CmsKOCeN.js";import{s as Xt,a as L,f as te,g as ee}from"../chunks/A0hsxrl5.js";import{d as ae,w as wt}from"../chunks/CKUNgMxO.js";import{t as P}from"../chunks/B8_nqdIf.js";import{i as $}from"../chunks/CzRZ2EBi.js";import{s as J,a as Q}from"../chunks/CeGyPTis.js";import{p as yt,H as bt}from"../chunks/CIjbhZ3T.js";import"../chunks/CW2-qKRf.js";import{i as re}from"../chunks/CWX1lls2.js";import{L as se}from"../chunks/CuPDIu_5.js";import{A as oe,a as V,e as ne}from"../chunks/D34sTHfa.js";import{s as ie}from"../chunks/g_x4T4-I.js";import{i as ce}from"../chunks/DK1F_1Ni.js";import{A as le}from"../chunks/CWi8PpQH.js";const z=0,F=1,q=2;function fe(e,t,a,r,o){I&&$t();var s=e,l=It(),u=Rt,n=st,c,i,f,p=(l?ot:G)(void 0),_=(l?ot:G)(void 0),d=!1;function v(m,T){d=!0,T&&(D(g),H(g),nt(u));try{m===z&&a&&(c?it(c):c=M(()=>a(s))),m===F&&r&&(i?it(i):i=M(()=>r(s,p))),m!==z&&c&&j(c,()=>c=null),m!==F&&i&&j(i,()=>i=null),m!==q&&f&&j(f,()=>f=null)}finally{T&&(nt(null),H(null),D(null),Ft())}}var g=vt(()=>{if(n===(n=t()))return;let m=I&&at(n)===(s.data===Ct);if(m&&(s=Nt(),Pt(s),rt(!1),m=!0),at(n)){var T=n;d=!1,T.then(E=>{T===n&&(U(p,E),v(F,!0))},E=>{if(T===n)throw U(_,E),v(q,!0),_.v}),I?a&&(c=M(()=>a(s))):pt(()=>{d||v(z,!0)})}else U(p,n),v(F,!1);return m&&rt(!0),()=>n=st});I&&(s=mt)}function B(e,t,...a){var r=e,o=S,s;vt(()=>{o!==(o=t())&&(s&&(Ot(s),s=null),s=M(()=>o(r,...a)))},_t),I&&(r=mt)}const ue=()=>performance.now(),A={tick:e=>requestAnimationFrame(e),now:()=>ue(),tasks:new Set};function xt(){const e=A.now();A.tasks.forEach(t=>{t.c(e)||(A.tasks.delete(t),t.f())}),A.tasks.size!==0&&A.tick(xt)}function de(e){let t;return A.tasks.size===0&&A.tick(xt),{promise:new Promise(a=>{A.tasks.add(t={c:e,f:a})}),abort(){A.tasks.delete(t)}}}function lt(e,t){Jt(()=>{e.dispatchEvent(new CustomEvent(t))})}function ve(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function ft(e){const t={},a=e.split(";");for(const r of a){const[o,s]=r.split(":");if(!o||s===void 0)break;const l=ve(o.trim());t[l]=s.trim()}return t}const pe=e=>e;function Tt(e,t,a,r){var o=(e&Wt)!==0,s="in",l,u=t.inert,n=t.style.overflow,c,i;function f(){var g=jt,m=ct;H(null),D(null);try{return l??(l=a()(t,r?.()??{},{direction:s}))}finally{H(g),D(m)}}var p={is_global:o,in(){t.inert=u,c?.abort(),lt(t,"introstart"),c=At(t,f(),i,1,()=>{lt(t,"introend"),c?.abort(),c=l=void 0,t.style.overflow=n})},out(g){{g?.(),l=void 0;return}},stop:()=>{c?.abort()}},_=ct;if((_.transitions??(_.transitions=[])).push(p),Kt){var d=o;if(!d){for(var v=_.parent;v&&v.f&_t;)for(;(v=v.parent)&&!(v.f&Mt););d=!v||(v.f&Dt)!==0}d&&Ht(()=>{Bt(()=>p.in())})}}function At(e,t,a,r,o){if(Ut(t)){var s,l=!1;return pt(()=>{if(!l){var v=t({direction:"in"});s=At(e,v,a,r,o)}}),{abort:()=>{l=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(!t?.duration)return o(),{abort:S,deactivate:S,reset:S,t:()=>r};const{delay:u=0,css:n,tick:c,easing:i=pe}=t;var f=[];if(c&&c(0,1),n){var p=ft(n(0,1));f.push(p,p)}var _=()=>1-r,d=e.animate(f,{duration:u});return d.onfinish=()=>{var v=1-r,g=r-v,m=t.duration*Math.abs(g),T=[];if(m>0){var E=!1;if(n)for(var X=Math.ceil(m/16.666666666666668),W=0;W<=X;W+=1){var tt=v+g*i(W/X),et=ft(n(tt,1-tt));T.push(et),E||(E=et.overflow==="hidden")}E&&(e.style.overflow="hidden"),_=()=>{var R=d.currentTime;return v+g*i(R/m)},c&&de(()=>{if(d.playState!=="running")return!1;var R=_();return c(R,1-R),!0})}d=e.animate(T,{duration:m,fill:"forwards"}),d.onfinish=()=>{_=()=>r,c?.(r,1-r),o()}},{abort:()=>{d&&(d.cancel(),d.effect=null,d.onfinish=S)},deactivate:()=>{o=S},reset:()=>{},t:()=>_()}}const me=!1,_a=Object.freeze(Object.defineProperty({__proto__:null,ssr:me},Symbol.toStringTag,{value:"Module"})),_e=e=>e;function ge(e){const t=e-1;return t*t*t+1}function ut(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function he(e,{delay:t=0,duration:a=400,easing:r=_e}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:a,easing:r,css:s=>`opacity: ${s*o}`}}function we(e,{delay:t=0,duration:a=400,easing:r=ge,x:o=0,y:s=0,opacity:l=0}={}){const u=getComputedStyle(e),n=+u.opacity,c=u.transform==="none"?"":u.transform,i=n*(1-l),[f,p]=ut(o),[_,d]=ut(s);return{delay:t,duration:a,easing:r,css:(v,g)=>`
			transform: ${c} translate(${(1-v)*f}${p}, ${(1-v)*_}${d});
			opacity: ${n-i*g}`}}const ye=e=>{if(!be()){window.location.replace(e);return}history.replaceState({},"",e)},be=()=>window.history!==void 0&&"pushState"in window.history&&typeof window.history.pushState<"u",xe=()=>{const{subscribe:e,set:t}=wt(void 0);return{subscribe:e,start(){t({spinner:!0,close:!1})},show(){t({spinner:!0,close:!0})},stop(){t(void 0)}}},Et=xe(),Te=()=>{const{subscribe:e,set:t}=wt(!1);return{subscribe:e,start(){t(!0)},stop(){t(!1)}}},Ae=Te();ae([Et,Ae],([e,t])=>Xt(e)||t);const Ee=async()=>await Se({msg:{message:"You have been logged out because your session has expired.",type:"info"},clearStorages:!1}),Se=async({msg:e=void 0,clearStorages:t=!0})=>{Et.start(),t&&await Promise.all([console.error("Store clear not implemented")]),await L.signOut(),e&&P.addToast(e),window.location.reload()},St="msg",kt="level",ke=()=>{const e=new URLSearchParams(window.location.search),t=e.get(St);if(te(t))return;const a=e.get(kt)??"info";P.addToast({message:t,type:a}),Le()},Le=()=>{const e=new URL(window.location.href);e.searchParams.delete(St),e.searchParams.delete(kt),ye(e)},Ie=async()=>{const e=await Qt(()=>import("../chunks/iBk8YylV.js"),[],import.meta.url),t=new e.default;return t.onmessage=async({data:a})=>{const{msg:r,data:o}=a;switch(r){case"signOutIdleTimer":await Ee();return;case"delegationRemainingTime":ee.set(o?.authRemainingTime);return}},{syncAuthIdle:a=>{if(!a.identity){t.postMessage({msg:"stopIdleTimer"});return}t.postMessage({msg:"startIdleTimer"})}}};function $e(){let e={domain:"https://identity.ic0.app"};L.signIn(e)}function Ce(){L.signOut()}var Ne=x("<button>LET'S CONNECT</button>"),Pe=x("<button>LET'S CONNECT</button>"),Re=x('<footer class="relative py-8 overflow-hidden bg-BrandGray"><div class="absolute ellipse-1"></div> <div class="absolute ellipse-2"></div> <div class="relative z-10"><div class="flex flex-col px-6 lg:px-12 lg:flex-row lg:items-center lg:justify-between"><div class="flex items-center mb-6 lg:mb-0"><a href="/" class="flex items-center"><img src="logo.png" class="h-5 lg:h-4" alt="Waterway Labs Logo"> <span class="ml-2 tracking-wide"><span class="text-white">WATERWAY</span> <span class="text-white exLight">LABS</span></span></a></div> <div class="flex flex-col text-sm uppercase exLight lg:mb-0 lg:flex-row"><a href="/" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">Products</a> <a href="/about" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">About Us</a> <a href="/team" class="mb-4 lg:mb-0 lg:mx-4 hover:text-blue-400">The Team</a></div></div> <hr class="my-6 border-t-2 border-[#4E4E4E] mx-6 lg:mx-auto lg:w-[1450px]"> <div class="flex flex-col px-6 lg:px-12 lg:flex-row lg:items-center lg:justify-between"><div class="mb-4 lg:mb-0"><!></div> <div class="flex flex-col text-sm uppercase exLight lg:flex-row "><a href="https://github.com" target="_blank" class="mb-4 lg:mb-0 lg:mx-2 hover:text-blue-400">GitHub</a> <a href="https://twitter.com" target="_blank" class="mb-4 lg:mb-0 lg:mx-2 hover:text-blue-400">Twitter</a></div></div></div></footer>');function Lt(e,t){C(t,!1);let a=G(!1);Z(async()=>{try{L.subscribe(i=>{K(a,i.identity!==null&&i.identity!==void 0)})}catch(i){console.error("Error fetching homepage data:",i)}finally{}}),re();var r=Re(),o=b(h(r),4),s=b(h(o),4),l=h(s),u=h(l);{var n=i=>{var f=Ne();f.__click=[Ce],y(i,f)},c=i=>{var f=Pe();f.__click=[$e],y(i,f)};$(u,i=>{Y(a)?i(n):i(c,!1)})}w(l),zt(2),w(s),w(o),w(r),y(e,r),N()}ht(["click"]);var Fe=x('<div class="mx-4 mt-2"><!></div>'),Oe=x('<div class="full-screen-flex"><!> <!> <!></div>');function Me(e,t){C(t,!0);const[a,r]=Q(),o=()=>J(yt,"$page",a);var s=Oe(),l=h(s);{var u=f=>{var p=Fe(),_=h(p);bt(_,{}),w(p),y(f,p)};$(l,f=>{isHomePage||f(u)})}var n=b(l,2);B(n,()=>t.children);var c=b(n,2);{var i=f=>{Lt(f,{})};$(c,f=>{o().url.pathname!="/"&&f(i)})}w(s),y(e,s),N(),r()}var De=x('<div class="full-screen-flex-col"><div class="w-full px-4"><!></div> <div class="w-full"><!></div></div> <!>',1);function He(e,t){C(t,!0);const[a,r]=Q(),o=()=>J(yt,"$page",a);let s=gt(!1);qt(()=>{K(s,o().url.pathname==="/")});var l=De(),u=k(l),n=h(u),c=h(n);bt(c,{isMenuOpen:!1,halfWidth:!1}),w(n);var i=b(n,2),f=h(i);B(f,()=>t.children),w(i),w(u);var p=b(u,2);{var _=d=>{Lt(d,{})};$(p,d=>{Y(s)||d(_)})}y(e,l),N(),r()}var Be={BACKEND_CANISTER_ID:"rbqtt-7yaaa-aaaal-qcndq-cai"};class dt{constructor(){}async getAppStatus(){const a=await(await oe.createActor(ce,Be.BACKEND_CANISTER_ID)).getAppStatus();if(V(a))throw new Error("Failed to get app status");return a.ok}}function We(){async function e(){const a=await new dt().getAppStatus();if(V(a))throw new Error("Error fetching app status");let r=a;if(!localStorage.getItem("version")){localStorage.setItem("version",r.version);return}r.version!==localStorage.getItem("version")&&P.addToast({message:`Waterway Labs V${r.version} is now available. Click here to reload:`,type:"frontend-update"})}async function t(){const a=await new dt().getAppStatus();if(V(a))throw new Error("Error fetching app status");let r=a;localStorage.setItem("version",r.version),window.location.replace(`${window.location.pathname}?v=${r.version}`)}return{checkServerVersion:e,updateFrontend:t}}const Ue=We();function je(){Ue.updateFrontend()}var ze=x('<button class="p-1 transition-colors border border-white rounded-full group hover:bg-white hover:text-black flex flex-row items-center"><span class="flex-1 text-xs semi-bold tracking-wide text-center lg:px-4">UPDATE SITE</span> <span class="w-8 h-8 flex items-center justify-center"><!></span></button>'),qe=x('<div><span> </span> <!> <button class="font-bold ml-4">&times;</button></div>');function Ge(e,t){C(t,!0),Z(()=>{t.toast.duration&&t.toast.duration>0&&setTimeout(a,t.toast.duration)});function a(){P.removeToast(t.toast.id)}var r=qe(),o=h(r),s=h(o,!0);w(o);var l=b(o,2);{var u=c=>{var i=ze();i.__click=[je];var f=b(h(i),2),p=h(f);le(p,{className:"w-8 h-8"}),w(f),w(i),y(c,i)};$(l,c=>{t.toast.type=="frontend-update"&&c(u)})}var n=b(l,2);n.__click=a,w(r),Gt(()=>{ie(r,1,`fixed top-0 left-0 right-0 z-[9999] p-4 text-black shadow-md flex justify-between items-center bg-${t.toast.type}`),Yt(s,t.toast.message)}),y(e,r),N()}ht(["click"]);var Ve=x("<div><!></div>");function Ke(e){const[t,a]=Q(),r=()=>J(P,"$toasts",t);var o=O(),s=k(o);ne(s,1,r,l=>l.id,(l,u)=>{var n=Ve(),c=h(n);Ge(c,{get toast(){return Y(u)}}),w(n),Tt(1,n,()=>we,()=>({y:20,duration:200})),y(l,n)}),y(e,o),a()}var Ye=x('<!> <div class="block lg:hidden"><!></div> <div class="hidden lg:block"><!></div>',1),Ze=x("<div><!></div>");function ga(e,t){C(t,!0);let a=gt(!0);Z(async()=>{document.querySelector("#app-spinner")?.remove(),await Ie(),K(a,!1)});const r=async()=>{await L.sync(),ke()};var o=O();Zt("storage",Vt,function(...l){L.sync?.apply(this,l)});var s=k(o);fe(s,r,l=>{var u=Ze(),n=h(u);se(n),w(u),Tt(1,u,()=>he),y(l,u)},(l,u)=>{var n=Ye(),c=k(n);Ke(c);var i=b(c,2),f=h(i);He(f,{children:(d,v)=>{var g=O(),m=k(g);B(m,()=>t.children),y(d,g)},$$slots:{default:!0}}),w(i);var p=b(i,2),_=h(p);Me(_,{children:(d,v)=>{var g=O(),m=k(g);B(m,()=>t.children),y(d,g)},$$slots:{default:!0}}),w(p),y(l,n)}),y(e,o),N()}export{ga as component,_a as universal};
