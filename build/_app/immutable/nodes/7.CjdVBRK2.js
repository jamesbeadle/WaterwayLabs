import{t as h,a as g,c as Y}from"../chunks/BzkU4u7S.js";import{p as Z,a as ee,m as k,a4 as B,c as n,j as t,b as u,s as y,f as K,t as te,ad as re}from"../chunks/BaXbDryg.js";import{s as A}from"../chunks/B0P5qzJu.js";import{i as $}from"../chunks/D2wzK7NB.js";import{A as p,a as d,e as ae,f as oe,i as se}from"../chunks/BnLb_NBT.js";import{s as L}from"../chunks/D6NyieC3.js";import{o as ie}from"../chunks/C0ZN6LWz.js";import{L as ne}from"../chunks/4SrJcopP.js";import{a as c}from"../chunks/CeQShbIZ.js";var l={BACKEND_CANISTER_ID:"rbqtt-7yaaa-aaaal-qcndq-cai"};class m{async getSupportQueries(r){await c.sync();const e=await(await p.createIdentityActor(c,l.BACKEND_CANISTER_ID)).getSupportQueries(r);if(d(e))throw new Error("Failed to fetch support queries");return e.ok}async getArchivedSupportQueries(r){await c.sync();const e=await(await p.createIdentityActor(c,l.BACKEND_CANISTER_ID)).getArchivedSupportQueries(r);if(d(e))throw new Error("Failed to fetch archived support queries");return e.ok}async getUserSupportQueries(r){await c.sync();const e=await(await p.createIdentityActor(c,l.BACKEND_CANISTER_ID)).getArchivedSupportQueries(r);if(d(e))throw new Error("Failed to fetch user support queries");return e.ok}async getArchivedUserSupportQueries(r){await c.sync();const e=await(await p.createIdentityActor(c,l.BACKEND_CANISTER_ID)).getArchivedUserSupportQueries(r);if(d(e))throw new Error("Failed to fetch archived user support queries");return e.ok}async createSupportQuery(r){const e=await(await p.createIdentityActor(c,l.BACKEND_CANISTER_ID)).createSupportQuery(r);if(d(e))throw new Error("Failed to create support query");return e.ok}async addSupportQueryComment(r){const e=await(await p.createIdentityActor(c,l.BACKEND_CANISTER_ID)).addSupportQueryComment(r);if(d(e))throw new Error("Failed to add support query comment");return e.ok}async removeSupportQueryComment(r){const e=await(await p.createIdentityActor(c,l.BACKEND_CANISTER_ID)).removeSupportQueryComment(r);if(d(e))throw new Error("Failed to remove support query comment");return e.ok}}function ue(){async function w(a){return new m().getSupportQueries(a)}async function r(a){return new m().getArchivedSupportQueries(a)}async function o(a){return new m().getUserSupportQueries(a)}async function e(a){return new m().getUserSupportQueries(a)}async function f(a){return new m().createSupportQuery(a)}async function x(a){return new m().addSupportQueryComment(a)}async function E(a){return new m().removeSupportQueryComment(a)}return{getSupportQueries:w,getArchivedSupportQueries:r,getUserSupportQueries:o,getArchivedUserSupportQueries:e,createSupportQuery:f,addSupportQueryComment:x,removeSupportQueryComment:E}}const ce=ue();var pe=h('<div class="flex flex-col gap-4 mx-4"><div><div class="flex justify-between items-center mb-2"><span class="text-sm text-gray-500"> </span> <span> </span></div> <div class="mb-2"><h3 class="text-lg font-semibold text-gray-800"> </h3> <p class="text-gray-700 text-sm"> </p></div> <div class="flex items-center mt-4"><span class="text-sm font-medium text-gray-500">Contact:</span> <span class="ml-2 text-gray-600 text-sm"> </span></div></div></div>'),de=h("<p>No Support Queries Found</p>"),le=h('<div class="responsive-row-col"><div class="text-left w-full"><span class="status">SUPPORT</span> <h1 class="mt-6 mb-4 text-4xl leading-tight lg:mt-2 lg:mb-0 lg:text-5xl xl:text-6xl">PLEASE SEE NEW SUPPORT QUERIES BELOW</h1></div></div> <div class="horizontal-divider"></div> <!>',1),me=h('<div class="mx-auto"><!></div>');function xe(w,r){Z(r,!0);let o=B(void 0),e=B(!0);ie(async()=>{try{let s=await ce.getSupportQueries({app:[{ICFC:null}]});if(!s)return;k(o,s,!0)}catch(s){console.error("Error fetching form submissions:",s)}finally{k(e,!1)}});var f=me(),x=n(f);{var E=s=>{ne(s)},a=s=>{var U=le(),O=y(K(U),4);{var P=v=>{var _=Y(),W=K(_);ae(W,17,()=>t(o).supportQueries,se,(z,S)=>{var Q=pe();const i=re(()=>Object.keys(t(S).status)[0]);var b=n(Q),C=n(b),I=n(C),M=n(I,!0);u(I);var N=y(I,2),G=n(N,!0);u(N),u(C);var D=y(C,2),R=n(D),H=n(R,!0);u(R);var F=y(R,2),J=n(F,!0);u(F),u(D);var T=y(D,2),q=y(n(T),2),V=n(q,!0);u(q),u(T),u(b),u(Q),te(X=>{L(b,1,`bg-white shadow-md rounded-lg p-4 border-l-4 
                        ${t(i)=="Unread"?"border-blue-500":""} 
                        ${t(i)=="Read"?"border-green-500":""} 
                        ${t(i)=="Resolved"?"border-yellow-500":""} 
                        ${t(i)=="Ignored"?"border-red-500":""} 
                        ${t(i)=="Flagged"?"border-purple-500":""} 
                    `),A(M,X),L(N,1,`text-xs font-semibold uppercase 
                            ${t(i)=="Unread"?"border-blue-500":""} 
                            ${t(i)=="Read"?"border-green-500":""} 
                            ${t(i)=="Resolved"?"border-yellow-500":""} 
                            ${t(i)=="Ignored"?"border-red-500":""} 
                            ${t(i)=="Flagged"?"border-purple-500":""}
                            `),A(G,t(i)),A(H,t(S).name),A(J,t(S).message),A(V,t(S).contact)},[()=>oe(t(S).submittedOn)]),g(z,Q)}),g(v,_)},j=v=>{var _=de();g(v,_)};$(O,v=>{t(o)?v(P):v(j,!1)})}g(s,U)};$(x,s=>{t(e)?s(E):s(a,!1)})}u(f),g(w,f),ee()}export{xe as component};
