var Z=Object.defineProperty;var tt=(n,e,r)=>e in n?Z(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var D=(n,e,r)=>tt(n,typeof e!="symbol"?e+"":e,r);import{t as f,a as u,c as et}from"../chunks/Cp19ctvd.js";import{o as rt,v as at,s as F,a0 as T,a2 as o,g as t,a4 as i,a3 as l,a1 as U,t as st,ad as ot}from"../chunks/U8yBOnkO.js";import{s as v}from"../chunks/vOK7cYc4.js";import{i as $}from"../chunks/QOQxgjB7.js";import{A as w,a as B,e as it,f as nt,i as ct}from"../chunks/CdI6uKr4.js";import{s as L}from"../chunks/ByvVdWeg.js";import{o as dt}from"../chunks/B9FQJXiY.js";import{L as lt}from"../chunks/Dxznvtse.js";import{a as A}from"../chunks/DM56RBs9.js";import{i as pt}from"../chunks/Gz_18jNH.js";var I={BACKEND_CANISTER_ID:"rbqtt-7yaaa-aaaal-qcndq-cai"};class O{constructor(){D(this,"actor");this.actor=w.createActor(pt,I.BACKEND_CANISTER_ID)}async createSupportQuery(e){const c=await(await w.createIdentityActor(A,I.BACKEND_CANISTER_ID)).createSupportQuery(e);if(B(c))throw new Error("Failed to topup canister");return c.ok}async getSupportQueries(e){await A.sync();const c=await(await w.createIdentityActor(A,I.BACKEND_CANISTER_ID)).getSupportQueries(e);if(B(c))throw new Error("Failed to fetch support queries");return c.ok}}function ut(){async function n(r){return new O().createSupportQuery(r)}async function e(r){return new O().getSupportQueries(r)}return{createSupportQuery:n,getSupportQueries:e}}const vt=ut();var mt=f('<div class="flex flex-col gap-4 mx-4"><div><div class="flex justify-between items-center mb-2"><span class="text-sm text-gray-500"> </span> <span> </span></div> <div class="mb-2"><h3 class="text-lg font-semibold text-gray-800"> </h3> <p class="text-gray-700 text-sm"> </p></div> <div class="flex items-center mt-4"><span class="text-sm font-medium text-gray-500">Contact:</span> <span class="ml-2 text-gray-600 text-sm"> </span></div></div></div>'),ft=f("<p>No Support Queries Found</p>"),_t=f('<div class="responsive-row-col"><div class="text-left w-full"><span class="status">SUPPORT</span> <h1 class="mt-6 mb-4 text-4xl leading-tight lg:mt-2 lg:mb-0 lg:text-5xl xl:text-6xl">PLEASE SEE NEW SUPPORT QUERIES BELOW</h1></div></div> <div class="horizontal-divider"></div> <!>',1),gt=f('<div class="mx-auto"><!></div>');function Nt(n,e){rt(e,!0);let r=T(void 0),c=T(!0);dt(async()=>{try{let a=await vt.getSupportQueries({app:[{ICFC:null}]});if(!a)return;F(r,a,!0)}catch(a){console.error("Error fetching form submissions:",a)}finally{F(c,!1)}});var _=gt(),P=o(_);{var k=a=>{lt(a)},q=a=>{var R=_t(),K=l(U(R),4);{var j=d=>{var m=et(),z=U(m);it(z,17,()=>t(r).supportQueries,ct,(M,p)=>{var g=mt();const s=ot(()=>Object.keys(t(p).status)[0]);var x=o(g),b=o(x),y=o(b),G=o(y,!0);i(y);var S=l(y,2),H=o(S,!0);i(S),i(b);var h=l(b,2),E=o(h),J=o(E,!0);i(E);var C=l(E,2),V=o(C,!0);i(C),i(h);var N=l(h,2),Q=l(o(N),2),X=o(Q,!0);i(Q),i(N),i(x),i(g),st(Y=>{L(x,1,`bg-white shadow-md rounded-lg p-4 border-l-4 
                        ${t(s)=="Unread"?"border-blue-500":""} 
                        ${t(s)=="Read"?"border-green-500":""} 
                        ${t(s)=="Resolved"?"border-yellow-500":""} 
                        ${t(s)=="Ignored"?"border-red-500":""} 
                        ${t(s)=="Flagged"?"border-purple-500":""} 
                    `),v(G,Y),L(S,1,`text-xs font-semibold uppercase 
                            ${t(s)=="Unread"?"border-blue-500":""} 
                            ${t(s)=="Read"?"border-green-500":""} 
                            ${t(s)=="Resolved"?"border-yellow-500":""} 
                            ${t(s)=="Ignored"?"border-red-500":""} 
                            ${t(s)=="Flagged"?"border-purple-500":""}
                            `),v(H,t(s)),v(J,t(p).name),v(V,t(p).message),v(X,t(p).contact)},[()=>nt(t(p).submittedOn)]),u(M,g)}),u(d,m)},W=d=>{var m=ft();u(d,m)};$(K,d=>{t(r)?d(j):d(W,!1)})}u(a,R)};$(P,a=>{t(c)?a(k):a(q,!1)})}i(_),u(n,_),at()}export{Nt as component};
