var Z=Object.defineProperty;var tt=(c,e,r)=>e in c?Z(c,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):c[e]=r;var F=(c,e,r)=>tt(c,typeof e!="symbol"?e+"":e,r);import{t as x,a as u,c as et}from"../chunks/DKwmAWm-.js";import{p as rt,a as at,m as T,a4 as B,c as i,j as t,b as n,s as p,f as U,t as st,ad as ot}from"../chunks/BS6Mr32s.js";import{s as v}from"../chunks/Dg9wxeRC.js";import{i as $}from"../chunks/Cleh1DLi.js";import{A as _,a as R,e as it,f as nt,i as ct}from"../chunks/DiVHGxAN.js";import{s as k}from"../chunks/C480-Oaa.js";import{o as dt}from"../chunks/PuZT4g-u.js";import{L as pt}from"../chunks/L2nMlp6H.js";import{a as m}from"../chunks/B1E67QIh.js";import{i as lt}from"../chunks/N4ttWJrv.js";var g={BACKEND_CANISTER_ID:"rbqtt-7yaaa-aaaal-qcndq-cai"};class q{constructor(){F(this,"actor");this.actor=_.createActor(lt,g.BACKEND_CANISTER_ID)}async createSupportQuery(e){const a=await(await _.createIdentityActor(m,g.BACKEND_CANISTER_ID)).createSupportQuery(e);if(R(a))throw new Error("Failed to topup canister");return a.ok}async getSupportQueries(e){await m.sync();const a=await(await _.createIdentityActor(m,g.BACKEND_CANISTER_ID)).getSupportQueries(e);if(R(a))throw new Error("Failed to fetch support queries");return a.ok}async getArchivedSupportQueries(e){await m.sync();const a=await(await _.createIdentityActor(m,g.BACKEND_CANISTER_ID)).getArchivedSupportQueries(e);if(R(a))throw new Error("Failed to fetch support queries");return a.ok}}function ut(){async function c(r){return new q().createSupportQuery(r)}async function e(r){return new q().getSupportQueries(r)}return{createSupportQuery:c,getSupportQueries:e}}const vt=ut();var mt=x('<div class="flex flex-col gap-4 mx-4"><div><div class="flex justify-between items-center mb-2"><span class="text-sm text-gray-500"> </span> <span> </span></div> <div class="mb-2"><h3 class="text-lg font-semibold text-gray-800"> </h3> <p class="text-gray-700 text-sm"> </p></div> <div class="flex items-center mt-4"><span class="text-sm font-medium text-gray-500">Contact:</span> <span class="ml-2 text-gray-600 text-sm"> </span></div></div></div>'),ft=x("<p>No Support Queries Found</p>"),_t=x('<div class="responsive-row-col"><div class="text-left w-full"><span class="status">SUPPORT</span> <h1 class="mt-6 mb-4 text-4xl leading-tight lg:mt-2 lg:mb-0 lg:text-5xl xl:text-6xl">PLEASE SEE NEW SUPPORT QUERIES BELOW</h1></div></div> <div class="horizontal-divider"></div> <!>',1),gt=x('<div class="mx-auto"><!></div>');function Nt(c,e){rt(e,!0);let r=B(void 0),a=B(!0);dt(async()=>{try{let s=await vt.getSupportQueries({app:[{ICFC:null}]});if(!s)return;T(r,s,!0)}catch(s){console.error("Error fetching form submissions:",s)}finally{T(a,!1)}});var y=gt(),K=i(y);{var L=s=>{pt(s)},O=s=>{var C=_t(),P=p(U(C),4);{var j=d=>{var f=et(),z=U(f);it(z,17,()=>t(r).supportQueries,ct,(M,l)=>{var b=mt();const o=ot(()=>Object.keys(t(l).status)[0]);var S=i(b),A=i(S),h=i(A),G=i(h,!0);n(h);var w=p(h,2),H=i(w,!0);n(w),n(A);var E=p(A,2),I=i(E),J=i(I,!0);n(I);var N=p(I,2),V=i(N,!0);n(N),n(E);var Q=p(E,2),D=p(i(Q),2),X=i(D,!0);n(D),n(Q),n(S),n(b),st(Y=>{k(S,1,`bg-white shadow-md rounded-lg p-4 border-l-4 
                        ${t(o)=="Unread"?"border-blue-500":""} 
                        ${t(o)=="Read"?"border-green-500":""} 
                        ${t(o)=="Resolved"?"border-yellow-500":""} 
                        ${t(o)=="Ignored"?"border-red-500":""} 
                        ${t(o)=="Flagged"?"border-purple-500":""} 
                    `),v(G,Y),k(w,1,`text-xs font-semibold uppercase 
                            ${t(o)=="Unread"?"border-blue-500":""} 
                            ${t(o)=="Read"?"border-green-500":""} 
                            ${t(o)=="Resolved"?"border-yellow-500":""} 
                            ${t(o)=="Ignored"?"border-red-500":""} 
                            ${t(o)=="Flagged"?"border-purple-500":""}
                            `),v(H,t(o)),v(J,t(l).name),v(V,t(l).message),v(X,t(l).contact)},[()=>nt(t(l).submittedOn)]),u(M,b)}),u(d,f)},W=d=>{var f=ft();u(d,f)};$(P,d=>{t(r)?d(j):d(W,!1)})}u(s,C)};$(K,s=>{t(a)?s(L):s(O,!1)})}n(y),u(c,y),at()}export{Nt as component};
